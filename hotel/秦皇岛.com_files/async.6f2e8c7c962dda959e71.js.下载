(self.webpackChunksmart=self.webpackChunksmart||[]).push([[933],{80207:function(module){var t;t=function(){return function(w){var k={};function n(T){if(k[T])return k[T].exports;var C=k[T]={i:T,l:!1,exports:{}};return w[T].call(C.exports,C,C.exports,n),C.l=!0,C.exports}return n.m=w,n.c=k,n.d=function(w,k,T){n.o(w,k)||Object.defineProperty(w,k,{enumerable:!0,get:T})},n.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},n.t=function(w,k){if(1&k&&(w=n(w)),8&k)return w;if(4&k&&"object"==typeof w&&w&&w.__esModule)return w;var T=Object.create(null);if(n.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:w}),2&k&&"string"!=typeof w)for(var C in w)n.d(T,C,function(k){return w[k]}.bind(null,C));return T},n.n=function(w){var k=w&&w.__esModule?function(){return w.default}:function(){return w};return n.d(k,"a",k),k},n.o=function(w,k){return Object.prototype.hasOwnProperty.call(w,k)},n.p="./",n(n.s=35)}([function(w,k,T){"use strict";function r(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}T.d(k,"a",(function(){return r}))},function(w,k,T){"use strict";function r(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}function o(w,k,T){return k&&r(w.prototype,k),T&&r(w,T),w}T.d(k,"a",(function(){return o}))},function(w,k,T){"use strict";var C=T(0),A=T(1),E=function(){function e(){Object(C.a)(this,e)}return Object(A.a)(e,null,[{key:"setCookie",value:function(w,k,T,C,A,E){var S=T.toGMTString();document.cookie=w+"="+k+(S?"; expires="+S:"")+(C?"; path="+C:"")+(A?"; domain="+A:"")+(E?"; secure":"")}},{key:"getCookie",value:function(w){for(var k=document.cookie,T=w+"=",C=T.length,A=k.length,E=0;E<A;){var S=E+C;if(k.substring(E,S)===T)return this.getCookieVal(S);if(0===(E=k.indexOf(" ",E)+1))break}return null}},{key:"getCookieVal",value:function(w){var k,T=document.cookie.indexOf(";",w);-1===T&&(T=document.cookie.length);var C=unescape(document.cookie.substring(w,T));try{k=JSON.parse(C)}catch(w){k=C}return k}},{key:"remove",value:function(w,k,T){this.get(w)&&(document.cookie=w+"="+(k?"; path="+k:"")+(T?"; domain="+T:"")+"; expires=Thu, 01-Jan-1970 00:00:01 GMT")}}]),e}(),S=function(){function e(){Object(C.a)(this,e)}return Object(A.a)(e,null,[{key:"getZindex",value:function(){var w=4e3;try{for(var k=document.all||document.querySelectorAll("*"),T=[],C=0;C<k.length;C++)T.push(Number(window.getComputedStyle(k[C]).zIndex)||0);return(w=Math.max.apply(null,T))||4e3}catch(k){return w}}},{key:"getMarginTop",value:function(w){var k=w.offsetHeight;w.style.marginTop=-k/2+"px"}},{key:"isEmail",value:function(w){return/^[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]+$/.test(w)}},{key:"getOnlineLocale",value:function(){var w=E.getCookie("ibulocale"),k=E.getCookie("ibu_h5_local");return(w||k||"en_xx").toLowerCase()}},{key:"isInMobile",value:function(){var w=navigator.userAgent,k=!w.match(/(iPad).*OS\s([\d_]+)/)&&w.match(/(iPhone\sOS)\s([\d_]+)/),T=w.match(/(Android)\s+([\d.]+)/);return k||T}},{key:"getEnv",value:function(){var w=window.location.host;return w.indexOf("localhost")>-1||w.indexOf("127.0.0.1")>-1||w.indexOf("dev")>-1?"dev":w.indexOf("fat")>-1||w.indexOf("fws")>-1?"fat":w.indexOf("uat")>-1?"uat":"pro"}},{key:"getRmsToken",value:function(){var w="";return window.__rmsbfi=window.__rmsbfi||[],window.__rmsbfi.push(["_getRmsToken",function(k){w=k}],!1),w}},{key:"getPageId",value:function(){var w=document.getElementById("page_id");return w?w.value:""}},{key:"getFP",value:function(){var w;return window.__rmsbfi=window.__rmsbfi||[],__bfi.push(["_getFP",function(k){w=k}]),w}},{key:"getVid",value:function(){var w=E.getCookie("_bfa"),k=w?w.split("."):[];return k&&k.length>2?k[1]+"."+w[2]:""}},{key:"getH5gatewayMessageId",value:function(w){if(w.responseStatus&&w.responseStatus.Extension)for(var k=w.responseStatus.Extension,T=0;T<k.length;T++){var C=k[T];if("RootMessageId"==C.id)return C.Value}return""}},{key:"countDowns",value:function(w,k,T){var C=this;k(w),0!==w&&window.setTimeout((function(){C.countDowns(--w,k,T)}),T)}},{key:"getContextOrExtList",value:function(){var w=this.getVid(),k=this.getRmsToken();return[{key:"Platform",value:platform||"P"},{key:"rmsToken",value:k||""},{key:"vid",value:w||""},{key:"http_referer",value:document.referrer||""},{key:"http_cookie",value:document.cookie},{key:"Url",value:window.location.href},{key:"UserAgent",value:navigator.userAgent}]}},{key:"getContextOrExtMap",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=this.getVid();return{Platform:"P",rmsToken:this.getRmsToken(),vid:k||"",locale:w.locale||"en-xx",group:w.group||"trip",http_referer:document.referrer||"",http_cookie:document.cookie,Url:window.location.href,UserAgent:navigator.userAgent}}},{key:"getAccountHead",value:function(w,k,T,C,A,E){return w||(w="P"),{accessCode:k,sceneCode:T,locale:C,platform:w,version:window.sdkVersion,group:A}}}]),e}();k.a=S},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=Object.assign||function(w){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(w[C]=T[C])}return w},A=u(T(7)),E=u(T(34)),S=u(T(6));function u(w){return w&&w.__esModule?w:{default:w}}k.default={authenticate:function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(T,A){var O={authorizeType:w.authorizeType,thirdType:w.thirdType,thirdConfigCode:w.thirdConfigCode,authCode:w.authCode,accessToken:w.accessToken,locale:w.locale,group:w.group,platform:w.platform,sourceId:w.sourceId,redirectUri:w.redirectUri},R={metricKey:k.metricKey||106083,platform:w.platform,sceneType:"login",subSceneType:"loginThirdpart"};E.default.authenticate(O,R).then((function(k){if(0!=k.returncode)return T(k);E.default.getThirdPartInfoByThirdToken(C({token:k.token},S.default.getReqCommonDataAccountHead(w))).then((function(w){return w&&0==w.returncode&&(w.token=k.token),T(w)}))})).catch((function(w){A(w)}))}))},thirdPartLogin:function(w,k){return new Promise((function(T,S){E.default.thirdPartLogin(w,k).then((function(w){if(w&&0==w.returncode){var E=C({subSceneType:"writeTicket"},k);A.default.writeTicket({ticket:w.ticket},E).then((function(k){k&&0==k.returnCode?T(w):T({returnCode:-2,message:"write ticket fail"})}))}else T(w)})).catch((function(w){S(w)}))}))},thirdPartBindAndLogin:function(w,k){return new Promise((function(T,S){E.default.thirdPartBindAndLogin(w,k).then((function(w){if(!w||0!=w.returncode)return T(w);var E=C({subSceneType:"writeTicket"},k);A.default.writeTicket({ticket:w.ticket},E).then((function(k){return k&&0==k.returnCode?T(w):T({returnCode:-2,message:"write ticket fail"})}))})).catch((function(w){S(w)}))}))}}},function(w,k){var T;T=function(){return this}();try{T=T||Function("return this")()||(0,eval)("this")}catch(w){"object"==typeof window&&(T=window)}w.exports=T},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),A=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,null,[{key:"getPageID",value:function(){var w="";return void 0===window.__bfi&&(window.__bfi=[]),__bfi.push(["_getPageid",function(k,T){w=T}]),w}},{key:"getCookie",value:function(w){for(var k=document.cookie,T=w+"=",C=T.length,A=k.length,E=0;E<A;){var S=E+C;if(k.substring(E,S)===T)return this.getCookieVal(S);if(0===(E=k.indexOf(" ",E)+1))break}return null}},{key:"getCookieVal",value:function(w){var k=document.cookie.indexOf(";",w),T=void 0;-1===k&&(k=document.cookie.length);var C=unescape(document.cookie.substring(w,k));try{T=JSON.parse(C)}catch(w){T=C}return T}},{key:"getRmsToken",value:function(){var w="";return window.__rmsbfi=window.__rmsbfi||[],window.__rmsbfi.push(["_getRmsToken",function(k){w=k}],!1),w}},{key:"json2QueryString",value:function(w){var k="";for(var T in w)k+=T+"="+w[T]+"&";var C=k.length;return C>1&&(k=k.substring(0,C-1)),k}},{key:"Md5",value:function(w){try{return w?T(30)(w).toUpperCase():""}catch(w){}return""}}]),e}();k.default=A},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C,A=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),E=T(15),S=(C=T(33))&&C.__esModule?C:{default:C},O=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return A(e,null,[{key:"getReqCommonDataAccountHead",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{locale:w.locale,platform:w.platform,group:w.group||E.CommonConfig.group,sourceId:w.sourceId}}},{key:"getEnv",value:function(){var w=window.location.host;return w.indexOf("localhost")>-1||w.indexOf("127.0.0.1")>-1||w.indexOf("dev")>-1?"dev":w.indexOf("fat")>-1||w.indexOf("fws")>-1?"fat":w.indexOf("uat")>-1?"uat":"pro"}},{key:"getRmsToken",value:function(){var w="";return window.__rmsbfi=window.__rmsbfi||[],window.__rmsbfi.push(["_getRmsToken",function(k){w=k}],!1),w}},{key:"getPageId",value:function(){var w=document.getElementById("page_id");return w?w.value:""}},{key:"getFP",value:function(){var w=void 0;return window.__rmsbfi=window.__rmsbfi||[],__bfi.push(["_getFP",function(k){w=k}]),w}},{key:"getVid",value:function(){var w=S.default.getCookie("_bfa"),k=w?w.split("."):[];return k&&k.length>2?k[1]+"."+w[2]:""}},{key:"getH5gatewayMessageId",value:function(w){if(w.responseStatus&&w.responseStatus.Extension)for(var k=w.responseStatus.Extension,T=0;T<k.length;T++){var C=k[T];if("RootMessageId"==C.id)return C.Value}return""}},{key:"countDowns",value:function(w,k,T){var C=this;k(w),0!==w&&window.setTimeout((function(){C.countDowns(--w,k,T)}),T)}},{key:"getContextOrExtList",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=this.getVid(),T=this.getRmsToken(),C=[{key:"Platform",value:w.platform||"P"},{key:"rmsToken",value:T||""},{key:"vid",value:k||""},{key:"http_referer",value:document.referrer||""},{key:"Url",value:window.location.href},{key:"referCode",value:w.referCode||""}];return w.customParam&&C.push({key:"customParam",value:w.customParam}),C}},{key:"getContextOrExtMap",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=this.getVid();return{Platform:w.platform||"P",rmsToken:this.getRmsToken(),vid:k||"",locale:w.locale||"en-xx",group:w.group||"trip",http_referer:document.referrer||"",Url:window.location.href,referCode:w.referCode||""}}},{key:"getAccountHead",value:function(w){return{accessCode:w.accessCode||"",locale:w.locale||"en-xx",platform:w.platform||"P",group:w.group||"trip",rmsToken:this.getRmsToken()||"",sourceId:w.sourceId||""}}}]),e}();k.default=O},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=i(T(12)),A=i(T(26));function i(w){return w&&w.__esModule?w:{default:w}}k.default={writeTicket:function(w,k){return new Promise((function(T,E){var S=k;void 0!==k&&k||(S={metricKey:106083,platform:"Online",sceneType:"login",subSceneType:"writeTicket"});for(var O=C.default.getAuthDomain(),R=[],P=0;P<O.length;P++){var I={domain:O[P].cookieDomain};Object.assign(I,w),R.push(A.default.writeTicket(O[P].serviceDomain,I,S))}Promise.all(R).then((function(w){T(w[w.length-1])})).catch((function(w){T()}))}))},logOut:function(w,k){var T=k;void 0!==k&&k||(T={metricKey:106083,platform:"Online",sceneType:"login",subSceneType:"logOut"});for(var E=C.default.getAuthDomain(),S=[],O=0;O<E.length;O++){var R={domain:E[O].cookieDomain};Object.assign(R,w),S.push(A.default.logOut(E[O].serviceDomain,R,T))}Promise.all(S).then((function(w){resolve(w[w.length-1])})).catch((function(w){resolve()}))},isLogin:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=arguments[1],T=k;return void 0!==k&&k||(T={metricKey:106083,platform:"H5",sceneType:"login",subSceneType:"isLogin"}),new Promise((function(k,E){var S=C.default.getApiBaseUrl();A.default.isLogin(S,w,T).then((function(w){w&&0==w.returnCode?k(1):k(0)})).catch((function(w){k(0)}))}))},getAccountInfoByTicket:function(w,k){var T=k;return void 0!==k&&k||(T={metricKey:106083,platform:"Online",sceneType:"login",subSceneType:"getAccountInfoByTicket",isIncludeResp:"F"}),new Promise((function(k,C){A.default.getAccountInfoByTicketGateway(w,T).then((function(w){k(w)})).catch((function(w){C(w)}))}))},isGuest:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=arguments[1],T=k;return void 0!==k&&k||(T={metricKey:106083,platform:"Online",sceneType:"login",subSceneType:"isLogin",isIncludeResp:"F"}),new Promise((function(k,E){var S=C.default.getApiBaseUrl(),O=-1;A.default.getAccountInfoByTicket(S,w,T).then((function(w){w&&0==w.returnCode&&w.payload?(O="T"==w.payload.isNonUser?1:0,k(O)):k(O)})).catch((function(w){k(O)}))}))},getCrossDomainTikcet:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=arguments[1],T=k;return void 0!==k&&k||(T={metricKey:106083,platform:"Online",sceneType:"login",subSceneType:"getCrossDomainTikcet",isIncludeResp:"F"}),new Promise((function(k,E){var S=C.default.getApiBaseUrl();A.default.getCrossDomainTicket(S,w,T).then((function(w){w&&0==w.returnCode&&w.payload,k(w)})).catch((function(w){k(result)}))}))}}},function(w,k,T){"use strict";var C=T(0),A=T(1),E=T(2),S=function(){function e(){Object(C.a)(this,e)}return Object(A.a)(e,null,[{key:"loadUbtScript",value:function(w){var k=new Date,T="?v=".concat(k.getFullYear()).concat(k.getMonth()).concat(k.getDate()),C="";E.a.isInMobile()?window.$_bf&&window.$_bf.loaded||(C="https://static.tripcdn.com/packages/ubt/websdk/1.3.19/ubt.minh.js"+T):window.$_bf&&window.$_bf.loaded||window.$LAB||window.CtripJsLoader||(C="https://static.tripcdn.com/packages/ubt/websdk/1.3.19/ubt.minh.js"+T),C&&C.length>0?this.loadScript(C,w):w&&w()}},{key:"loadScript",value:function(w,k){if(w){var T=document.createElement("script");T.type="text/javascript",T.async=!1,T.onload=k,T.charset="utf-8",T.src=w,document.head.appendChild(T)}}}]),e}();S.loadScriptPromise=function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=k.defer,C=void 0!==T&&T,A=k.async,E=void 0===A||A;return w?new Promise((function(k,T){var A=document.createElement("script");A.onload=k,A.onerror=T,A.onabort=T,A.defer=C,A.async=E,A.src=w,document.body.appendChild(A)})):Promise.resolve()},k.a=S},function(w){w.exports={a:"0.1.16"}},function(w,k,T){"use strict";var C=T(19);function o(){}var A=null,E={};function u(w){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof w)throw new TypeError("Promise constructor's argument is not a function");this._h=0,this._i=0,this._j=null,this._k=null,w!==o&&p(w,this)}function c(w,k){for(;3===w._i;)w=w._j;if(u._l&&u._l(w),0===w._i)return 0===w._h?(w._h=1,void(w._k=k)):1===w._h?(w._h=2,void(w._k=[w._k,k])):void w._k.push(k);!function(w,k){C((function(){var T=1===w._i?k.onFulfilled:k.onRejected;if(null!==T){var C=function(w,k){try{return w(k)}catch(w){return A=w,E}}(T,w._j);C===E?l(k.promise,A):s(k.promise,C)}else 1===w._i?s(k.promise,w._j):l(k.promise,w._j)}))}(w,k)}function s(w,k){if(k===w)return l(w,new TypeError("A promise cannot be resolved with itself."));if(k&&("object"==typeof k||"function"==typeof k)){var T=function(w){try{return w.then}catch(w){return A=w,E}}(k);if(T===E)return l(w,A);if(T===w.then&&k instanceof u)return w._i=3,w._j=k,void f(w);if("function"==typeof T)return void p(T.bind(k),w)}w._i=1,w._j=k,f(w)}function l(w,k){w._i=2,w._j=k,u._m&&u._m(w,k),f(w)}function f(w){if(1===w._h&&(c(w,w._k),w._k=null),2===w._h){for(var k=0;k<w._k.length;k++)c(w,w._k[k]);w._k=null}}function d(w,k,T){this.onFulfilled="function"==typeof w?w:null,this.onRejected="function"==typeof k?k:null,this.promise=T}function p(w,k){var T=!1,C=function(w,k,T){try{w(k,T)}catch(w){return A=w,E}}(w,(function(w){T||(T=!0,s(k,w))}),(function(w){T||(T=!0,l(k,w))}));T||C!==E||(T=!0,l(k,A))}w.exports=u,u._l=null,u._m=null,u._n=o,u.prototype.then=function(w,k){if(this.constructor!==u)return function(w,k,T){return new w.constructor((function(C,A){var E=new u(o);E.then(C,A),c(w,new d(k,T,E))}))}(this,w,k);var T=new u(o);return c(this,new d(w,k,T)),T}},function(w,k){var T,C,A=w.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(w){if(T===setTimeout)return setTimeout(w,0);if((T===i||!T)&&setTimeout)return T=setTimeout,setTimeout(w,0);try{return T(w,0)}catch(k){try{return T.call(null,w,0)}catch(k){return T.call(this,w,0)}}}!function(){try{T="function"==typeof setTimeout?setTimeout:i}catch(w){T=i}try{C="function"==typeof clearTimeout?clearTimeout:a}catch(w){C=a}}();var E,S=[],O=!1,R=-1;function d(){O&&E&&(O=!1,E.length?S=E.concat(S):R=-1,S.length&&p())}function p(){if(!O){var w=u(d);O=!0;for(var k=S.length;k;){for(E=S,S=[];++R<k;)E&&E[R].run();R=-1,k=S.length}E=null,O=!1,function(w){if(C===clearTimeout)return clearTimeout(w);if((C===a||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(w);try{C(w)}catch(k){try{return C.call(null,w)}catch(k){return C.call(this,w)}}}(w)}}function h(w,k){this.fun=w,this.array=k}function g(){}A.nextTick=function(w){var k=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)k[T-1]=arguments[T];S.push(new h(w,k)),1!==S.length||O||u(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={},A.on=g,A.addListener=g,A.once=g,A.off=g,A.removeListener=g,A.removeAllListeners=g,A.emit=g,A.prependListener=g,A.prependOnceListener=g,A.listeners=function(w){return[]},A.binding=function(w){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(w){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C,A=(C=T(25))&&C.__esModule?C:{default:C};k.default=A.default},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),A=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,null,[{key:"getApiUrlConfig",value:function(){return{authenticateUrl:"/gateway/api/soa2/14553/authenticateTrip",sendTripEmailTpLoginUrl:"/gateway/api/soa2/11448/sendMessageByEmailTrip",authenticateByAccessTokenUrl:"/gateway/api/soa2/14553/authenticateByAccessTokenTrip",getThirdPartInfoByThirdTokenUrl:"/gateway/api/soa2/13191/getThirdPartInfoByThirdTokenTrip",thirdPartyLoginUrl:"/gateway/api/soa2/12559/thirdPartyLoginTrip",thirdPartyBindAndLoginUrl:"/gateway/api/soa2/12559/thirdPartyBindAndLoginTrip",userValidateUrl:"/gateway/api/soa2/12559/userValidateTrip",checkEmailCodeUrl:"/gateway/api/soa2/11448/checkEmailCodeTrip",getLoginTypesByLoginName:"/restapi/soa2/27024/getLoginTypesByLoginName",getUidByLogiNameUrl:"/gateway/api/soa2/11871/xxxloginxxxnamexxx",getCustomerTel:"/restapi/soa2/13909/json/getLocaleServiceTel",autoCompleteMail:"/restapi/soa2/14739/bjjson/getEmailAutoList",newMarketSubscriber:"/restapi/soa2/18765/bjjson/memberSubscribe",edmCheck:"/restapi/soa2/18765/bjjson/safeSite",gdprCheck:"/restapi/soa2/14610/bjjson/check",writeI18nTicketUrl:"ssoproxy/ssoCrossI18NSetCookie",isLoginUrl:"ssoproxy/ssoIsLogon",logOutUrl:"ssoproxy/ssoLogoutByTicket",getAdConfigUrl:"/passport/loginmask/getadconfig",getAccountInfoByTicketUrl:"ssoproxy/ssoGetAccountInfoByTicket",tokenLoginUrl:"/gateway/api/soa2/12559/loginByToken",newLoginUrl:"/gateway/api/soa2/12559/newLoginTrip",nonMemberRegisterAndLoginUrl:"/gateway/api/soa2/15431/nonMemberRegisterAndLoginTrip",resetPwdByEmailTokenTripUrl:"/gateway/api/soa2/12715/resetUserPwdByEmailTokenTrip",emailRegisterUrl:"/gateway/api/soa2/12343/emailRegisterTrip",bindEmailUrl:"/gateway/api/soa2/12715/bindEmail",rebindEmailUrl:"/gateway/api/soa2/12715/changeEmail",checkPermissionUrl:"/gateway/api/soa2/13191/checkPermission",getUidByEmailTokenUrl:"/gateway/api/soa2/13191/getUidByEmailToken",bindThirdPartUrl:"/gateway/api/soa2/12715/thirdBindByTicket",unbindThirdPartUrl:"/gateway/api/soa2/12715/unBindThirdIDByTicket",getThirdPartAccountInfoByTicketUrl:"/gateway/api/soa2/13775/getAccountInfoByTicket",changeUserStatusByTokenUrl:"/gateway/api/soa2/12715/changeUserStatusByToken",noVerifyedEmailRegisterAndLoginUrl:"/gateway/api/soa2/12559/noVerifyedEmailRegisterAndLogin",getEmailByTokenUrl:"/gateway/api/soa2/13191/getEmailByToken",assoicateOrderUrl:"/gateway/api/soa2/13775/associateByTokenAndGetOrder",checkTempEmail:"/restapi/soa2/14739/bjjson/validateEmail",assoicateOrderByTokenUrl:"/gateway/api/soa2/13775/associateOrder",getUnAssociatedOrderByTokenUrl:"/gateway/api/soa2/13775/getUnAssociatedOrderByToken",getAccountInfoByToken:"/gateway/api/soa2/13191/getAccountInfoByToken",sendValidateCodeByAuth:"/gateway/api/soa2/13775/sendValidateCode",validateCodeByAuth:"/gateway/api/soa2/13775/validateCode",userValidateRiskUrl:"/gateway/api/soa2/12559/userValidateRisk",getAccountInfoByTicketGatewayUrl:"/gateway/api/soa2/13775/getAccountInfoByTicket",getTicketUrl:"ssoproxy/ssoGetCookieValByCticket",nonMemberRegisterAndLoginUrlWithRisk:"/gateway/api/soa2/15431/nonMemberRegisterAndLogin",assoicatedKeyUrl:"/gateway/api/soa2/13191/associatedKey",getTokenInfoByTokenUrl:"/gateway/api/soa2/13191/getTokenInfoByToken"}}},{key:"getSendUrlFromBusinessSite",value:function(w){return{crm_ibuturnmember_h5:"/gateway/api/soa2/11448/sendTripToMemberMsg",ibu_bindmail_h5:"/gateway/api/soa2/11448/sendTripEmailBind",ibu_register_h5:"/gateway/api/soa2/11448/sendTripEmailRegister",ibu_repw_h5:"/gateway/api/soa2/11448/sendTripEmailResetPwd",ibu_guestconfirm_h5:"/gateway/api/soa2/11448/sendTripEmailGuestConfirm",crm_ibuturnmember_online:"/gateway/api/soa2/11448/sendTripToMemberMsg",ibu_bindmail_online:"/gateway/api/soa2/11448/sendTripEmailBind",crm_ibubindmail_online:"/gateway/api/soa2/11448/sendTripEmailBind",ibu_register_online:"/gateway/api/soa2/11448/sendTripEmailRegister",ibu_repw_online:"/gateway/api/soa2/11448/sendTripEmailResetPwd",ibu_guestconfirm_online:"/gateway/api/soa2/11448/sendTripEmailGuestConfirm",crm_ibumailcheckorder_online:"/gateway/api/soa2/11448/sendMessage4IBUOrderSearch",ibu_mailgetorder_h5:"/gateway/api/soa2/11448/sendMessage4IBUOrderSearch"}[w]}}]),e}();k.default=A},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),A=a(T(12)),E=a(T(27));function a(w){return w&&w.__esModule?w:{default:w}}var S=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,null,[{key:"sendApiRequest",value:function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C="";C=w&&w.indexOf("http")>-1?w:A.default.getGatewayBaseUrl()+w,k.Secretkey="A8CC960CD9BD65C74E3080DAA89B0623";var S=Object.keys(k).map((function(w){return encodeURIComponent(w)+"="+encodeURIComponent(k[w])})).join("&");return this.sendData(C,S,{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"}).then((function(w){return E.default.metricRequest(C,S,T,w),w})).catch((function(w){var k={returncode:-1,returnCode:-1,message:w?w.message:"network error"};throw E.default.metricRequest(C,S,T,k),k}))}},{key:"sendH5gatewayRequest",value:function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C=A.default.getGatewayBaseUrl()+w,S=JSON.stringify(k);return this.sendData(C,S).then((function(w){return E.default.metricRequest(C,S,T,w,"h5gateway"),w})).catch((function(w){var k={returncode:-1,returnCode:-1,message:w?w.message:"network error"};throw E.default.metricRequest(C,S,T,k,"h5gateway"),k}))}},{key:"sendGatewayRequest",value:function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C=A.default.getGatewayBaseUrl()+w,S=JSON.stringify(k);return this.sendData(C,S).then((function(w){if(!w||0!=w.ReturnCode){var k={returnCode:w?w.ReturnCode:-2,returncode:w?w.ReturnCode:-2,message:w?"msg:"+w.Message+",requestId:"+w.RequestId:"gateway request error"};return E.default.metricRequest(C,S,T,k),k}var A=JSON.parse(w.Result);if(!A){var O={returncode:w.ReturnCode,returnCode:w?w.ReturnCode:-2,message:"msg:"+w.Message+",requestId:"+w.RequestId};return E.default.metricRequest(C,S,T,O),O}var R="",P="";return""!==A.ReturnCode&&void 0!==A.ReturnCode&&null!==A.ReturnCode?(R=parseInt(A.ReturnCode,10),P=A.Message):""!==A.returnCode&&void 0!==A.returnCode&&null!==A.returnCode?(R=parseInt(A.returnCode,10),P=A.message):A.resultStatus&&(R=parseInt(A.resultStatus.returnCode,10),P=A.resultStatus.message),A.returncode=R,A.message=P,A.showMessage=w.showMessage,E.default.metricRequest(C,S,T,A),A})).catch((function(w){var k={returncode:-1,returnCode:-1,message:w?w.message:"network error"};throw E.default.metricRequest(C,S,T,k),k}))}},{key:"sendData",value:function(w,k,T){return T||(T={"content-type":"application/json; charset=UTF-8"}),function(w,k){return Promise.race([fetch(w,k),new Promise((function(w,k){setTimeout((function(){return k(new Error("request timeout"))}),5e3)}))])}(w,{body:k,cache:"no-cache",credentials:"include",headers:T,method:"POST",mode:"cors",redirect:"follow",referrer:"*"}).then((function(w){if(w.ok)return w.json();throw new Error("httpStatus:"+w.status)})).catch((function(w){throw new Error("http request failed,"+w.message)}))}}]),e}();k.default=S},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.UrlConfig=k.CommonConfig=void 0;var C,A=(C=T(13))&&C.__esModule?C:{default:C};k.CommonConfig={group:"trip"},k.UrlConfig=A.default},function(w,k,T){"use strict";T.r(k);var C=T(0),A=T(1),E=T(8),S=T(3),O=T.n(S),R=T(2),P=T(7),I=T.n(P),L="KFUIE88D83DCE8RT",x="DFCB94DC274F8DA8",B="B73093C74E8F891B7";function d(w,k,T){return k in w?Object.defineProperty(w,k,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[k]=T,w}function p(w){for(var k=1;k<arguments.length;k++){var T=null!=arguments[k]?arguments[k]:{},C=Object.keys(T);"function"==typeof Object.getOwnPropertySymbols&&(C=C.concat(Object.getOwnPropertySymbols(T).filter((function(w){return Object.getOwnPropertyDescriptor(T,w).enumerable})))),C.forEach((function(k){d(w,k,T[k])}))}return w}var D=T(9),j="Google";function m(){var w=R.a.isInMobile()?"H5":"PC";return p({},{version:D.a,defaultSdkVersion:D.a,business:"TripAccount",moduleType:j,entranceType:j,platform:w,ubtType:"operation"})}var v=function(){var w={};try{window.__bfi.push(["_getStatus",function(k){var T=k||{},C=T.pvid,A=T.pid;return w={default_pageId:A,pvid:C}}])}catch(w){}return w},F={business:"TripAccount"},_=function(w,k){try{window.UBT_API.push({type:"send",data:{type:"trace",key:w,data:p({},F,m(),v(),k)}})}catch(w){}},b=function(w,k){try{window.UBT_API.push({type:"send",data:{type:"trace",key:w,data:p({ubtType:"operation"},{sdkVersion:"npm-0.0.4",siteGroup:"trip",platform:"H5"},k)}})}catch(w){}},q=R.a.getOnlineLocale(),V=R.a.isInMobile(),G=235332,W="failed",K="signin",z="register",X="close",Y=-1600101,J=-1600102,$=-1600103,Z=-1600104,Q=function(){function e(){var w=this;Object(C.a)(this,e),this.googleOneTapSignIn=function(){var k=w.data,T=k.failCallback,C=k.closeCallback,A=k.IdConfiguration,S=void 0===A?{}:A,O=k.notificationCallback,R=k.loadsdkErrCallback,P=(k.sourceId,k.referCode,k.moduleName),I=k.title;E.a.loadScriptPromise("https://accounts.google.com/gsi/client",{}).then((function(){if("undefined"==typeof google||""==google||null==google)return T&&T({result:"load googlesdk fail",type:"LOAD",code:Y}),void _(G,{moduleName:P,title:I,result:W,msg:"load googlesdk fail"});try{google.accounts.id.initialize({client_id:"507086768190-agj5653lu1qb5rpdcel2b701jcg7d3ml.apps.googleusercontent.com",cancel_on_tap_outside:S.cancel_on_tap_outside||!1,auto_select:S.auto_select||!1,prompt_parent_id:S.prompt_parent_id||"",use_fedcm_for_prompt:!1,callback:function(k){S.callback&&S.callback(k),b(138720,{sceneType:"googleOneTapLoginBtnClick"}),w.authorizeCallback(k.credential)}}),google.accounts.id.prompt((function(w){return O&&O(w),w.isDisplayed()&&b(138720,{sceneType:"showGoogleOneTap"}),w.isNotDisplayed()?(T&&T({result:w.getNotDisplayedReason(),type:"NOT_DISPLAYED",code:Y}),void _(G,{moduleName:P,title:I,result:W,msg:"NOT_DISPLAYED"})):w.isSkippedMoment()?(T&&T({result:w.getSkippedReason(),type:"SKIPPED",code:Y}),void _(G,{moduleName:P,title:I,result:W,msg:"SKIPPED"})):void(w.isDismissedMoment()&&(_(G,{moduleName:P,title:I,result:X,msg:"DISMISSED_MOMENT",reason:w.getDismissedReason()}),C&&C()))}))}catch(w){T&&T({result:"googlesdk runtime fail",type:"RUNTIME_FAIL",code:Y}),_(G,{moduleName:P,title:I,result:W,msg:"googlesdk runtime fail"})}})).catch((function(w){_(G,{moduleName:P,title:I,result:W,msg:"load googlesdk fail"}),R&&R(w)}))},this.authorizeCallback=function(k){var T=w.data,C=(T.failCallback,T.IdConfiguration,T.notificationCallback,T.loadsdkErrCallback,T.sourceId,T.referCode,T.moduleName),A=T.title,E={authorizeType:"accessToken",accessToken:decodeURIComponent(k)||"",locale:q,thirdType:"google",group:"trip",thirdConfigCode:"XTHYY69RNSKLGOOGLEPCMASK"};O.a.authenticate(E,{}).then((function(k){if(!k||0!=k.returncode)return w.data.failCallback&&w.data.failCallback({result:"authorize fail",type:"FAIL_LOGIN",code:k.returncode}),void _(G,{moduleName:C,title:A,result:W,msg:"authorize fail"});if(k.uid&&k.uid.length>0)w.directLogin(k.token,!1);else{var T=k.emailInfo;T&&T.email&&0!=T.email.length?w.bindAndLogin(k):w.directLogin(k.token,!0)}})).catch((function(k){w.data.failCallback&&w.data.failCallback({result:k,type:"FAIL_LOGIN",code:J}),_(G,{moduleName:C,title:A,result:W,msg:k&&k.message||""})}))},this.bindAndLogin=function(k){var T=w.data,C=(T.failCallback,T.IdConfiguration,T.notificationCallback,T.loadsdkErrCallback,T.sourceId,T.referCode,T.moduleName),A=T.title,E={accessCode:L,strategyCode:B,thirdToken:k.token,validateToken:"",autoRegister:!k.emailInfo.isBindUid,locale:q,platform:V?"H5":"ONLINE",group:"trip",sourceId:w.data.sourceId,referCode:w.data.referCode},S={metricKey:106083,platform:V?"H5":"ONLINE",sceneType:"login",subSceneType:"bindThirdpartAndLogin"};O.a.thirdPartBindAndLogin(E,S).then((function(T){if(!T||0!=T.returncode)return w.data.failCallback&&w.data.failCallback({result:"login fail",type:"FAIL_LOGIN",code:T.returncode}),void _(G,{moduleName:C,title:A,result:W,msg:T.message||"login fail"});I.a.writeTicket({ticket:T.ticket},{}).then((function(){b(138720,{sceneType:"googleOneTapLoginSuccess"}),k.emailInfo.isBindUid||b(138720,{sceneType:"googleOneTapRegisterSuccess"}),_(G,{moduleName:C,title:A,result:k.extendedProperties&&"T"===k.extendedProperties.isNewUser?z:K}),setTimeout((function(){w.data.successCallback&&w.data.successCallback(T.extendedProperties&&"T"===T.extendedProperties.isNewUser)}),500)})).catch((function(k){w.data.failCallback&&w.data.failCallback({result:k,type:"FAIL_LOGIN",code:$}),_(G,{moduleName:C,title:A,result:W,msg:k&&k.message||""})}))}))},this.directLogin=function(k,T){var C=w.data,A=(C.failCallback,C.IdConfiguration,C.notificationCallback,C.loadsdkErrCallback,C.sourceId,C.referCode,C.moduleName),E=C.title,S=R.a.getOnlineLocale(),P={accessCode:L,strategyCode:x,token:k,autoRegister:T,locale:S,platform:V?"H5":"ONLINE",sourceId:w.data.sourceId,referCode:w.data.referCode},I={metricKey:113086,platform:V?"H5":"ONLINE",sceneType:"thirdpartlogin",subSceneType:"directLoginThirdpart"};O.a.thirdPartLogin(P,I).then((function(k){k&&0==k.returncode?(b(138720,{sceneType:"googleOneTapLoginSuccess"}),T&&b(138720,{sceneType:"googleOneTapRegisterSuccess"}),_(G,{moduleName:A,title:E,result:k.extendedProperties&&"T"===k.extendedProperties.isNewUser?z:K}),setTimeout((function(){w.data.successCallback&&w.data.successCallback(k.extendedProperties&&"T"===k.extendedProperties.isNewUser)}),500)):(w.data.failCallback&&w.data.failCallback({result:"login fail",type:"FAIL_LOGIN",code:k.returncode}),_(G,{moduleName:A,title:E,result:W,msg:k.message||"login fail"}))})).catch((function(k){w.data.failCallback&&w.data.failCallback({result:k,type:"FAIL_LOGIN",code:Z}),_(G,{moduleName:A,title:E,result:W,msg:k&&k.message||""})}))}}return Object(A.a)(e,[{key:"show",value:function(w){b(138720,{sceneType:"loadGoogleOneTap"}),this.data=w,this.googleOneTapSignIn()}}]),e}();k.default=Q,"undefined"!=typeof window&&(window.I18nGoogleOneTapSDK||(window.I18nGoogleOneTapSDK=Q),window.I18nGoogleOneTapSDKLoadCallback&&window.I18nGoogleOneTapSDKLoadCallback())},function(w,k,T){"use strict";"undefined"==typeof Promise&&(T(18).enable(),window.Promise=T(20)),"undefined"!=typeof window&&T(21),Object.assign=T(22),"undefined"!=typeof window&&T(23).polyfill(window)},function(w,k,T){"use strict";var C=T(10),A=[ReferenceError,TypeError,RangeError],E=!1;function a(){E=!1,C._l=null,C._m=null}function u(w,k){return k.some((function(k){return w instanceof k}))}k.disable=a,k.enable=function(w){w=w||{},E&&a(),E=!0;var k=0,T=0,S={};function s(k){(w.allRejections||u(S[k].error,w.whitelist||A))&&(S[k].displayId=T++,w.onUnhandled?(S[k].logged=!0,w.onUnhandled(S[k].displayId,S[k].error)):(S[k].logged=!0,function(w,k){((k&&(k.stack||k))+"").split("\n").forEach((function(w){}))}(S[k].displayId,S[k].error)))}C._l=function(k){var T;2===k._i&&S[k._o]&&(S[k._o].logged?(T=k._o,S[T].logged&&(w.onHandled?w.onHandled(S[T].displayId,S[T].error):S[T].onUnhandled)):clearTimeout(S[k._o].timeout),delete S[k._o])},C._m=function(w,T){0===w._h&&(w._o=k++,S[w._o]={displayId:null,error:T,timeout:setTimeout(s.bind(null,w._o),u(T,A)?100:2e3),logged:!1})}}},function(w,k,T){"use strict";(function(k){function n(w){C.length||T(),C[C.length]=w}w.exports=n;var T,C=[],A=0;function u(){for(;A<C.length;){var w=A;if(A+=1,C[w].call(),A>1024){for(var k=0,T=C.length-A;k<T;k++)C[k]=C[k+A];C.length-=A,A=0}}C.length=0,A=0}var E=void 0!==k?k:self,S=E.MutationObserver||E.WebKitMutationObserver;function l(w){return function(){var k=setTimeout(r,0),T=setInterval(r,50);function r(){clearTimeout(k),clearInterval(T),w()}}}T="function"==typeof S?function(w){var k=1,T=new S(w),C=document.createTextNode("");return T.observe(C,{characterData:!0}),function(){k=-k,C.data=k}}(u):l(u),n.requestFlush=T,n.makeRequestCallFromTimer=l}).call(this,T(4))},function(w,k,T){"use strict";var C=T(10);w.exports=C;var A=l(!0),E=l(!1),S=l(null),O=l(void 0),R=l(0),P=l("");function l(w){var k=new C(C._n);return k._i=1,k._j=w,k}C.resolve=function(w){if(w instanceof C)return w;if(null===w)return S;if(void 0===w)return O;if(!0===w)return A;if(!1===w)return E;if(0===w)return R;if(""===w)return P;if("object"==typeof w||"function"==typeof w)try{var k=w.then;if("function"==typeof k)return new C(k.bind(w))}catch(w){return new C((function(k,T){T(w)}))}return l(w)},C.all=function(w){var k=Array.prototype.slice.call(w);return new C((function(w,T){if(0===k.length)return w([]);var A=k.length;function i(E,S){if(S&&("object"==typeof S||"function"==typeof S)){if(S instanceof C&&S.then===C.prototype.then){for(;3===S._i;)S=S._j;return 1===S._i?i(E,S._j):(2===S._i&&T(S._j),void S.then((function(w){i(E,w)}),T))}var O=S.then;if("function"==typeof O)return void new C(O.bind(S)).then((function(w){i(E,w)}),T)}k[E]=S,0==--A&&w(k)}for(var E=0;E<k.length;E++)i(E,k[E])}))},C.reject=function(w){return new C((function(k,T){T(w)}))},C.race=function(w){return new C((function(k,T){w.forEach((function(w){C.resolve(w).then(k,T)}))}))},C.prototype.catch=function(w){return this.then(null,w)}},function(w,k){self.fetch||(self.fetch=function(w,k){return k=k||{},new Promise((function(T,C){var A=new XMLHttpRequest,E=[],S=[],O={};for(var R in A.open(k.method||"get",w,!0),A.onload=function(){A.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(w,k,T){E.push(k=k.toLowerCase()),S.push([k,T]),O[k]=O[k]?O[k]+","+T:T})),T(function e(){return{ok:2==(A.status/100|0),statusText:A.statusText,status:A.status,url:A.responseURL,text:function(){return Promise.resolve(A.responseText)},json:function(){return Promise.resolve(A.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([A.response]))},clone:e,headers:{keys:function(){return E},entries:function(){return S},get:function(w){return O[w.toLowerCase()]},has:function(w){return w.toLowerCase()in O}}}}())},A.onerror=C,A.withCredentials="include"==k.credentials,k.headers)A.setRequestHeader(R,k.headers[R]);A.send(k.body||null)}))})},function(w,k,T){"use strict";var C=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;w.exports=function(){try{if(!Object.assign)return!1;var w=new String("abc");if(w[5]="de","5"===Object.getOwnPropertyNames(w)[0])return!1;for(var k={},T=0;T<10;T++)k["_"+String.fromCharCode(T)]=T;if("0123456789"!==Object.getOwnPropertyNames(k).map((function(w){return k[w]})).join(""))return!1;var C={};return"abcdefghijklmnopqrst".split("").forEach((function(w){C[w]=w})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},C)).join("")}catch(w){return!1}}()?Object.assign:function(w,k){for(var T,S,O=function(w){if(null==w)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(w)}(w),R=1;R<arguments.length;R++){for(var P in T=Object(arguments[R]))A.call(T,P)&&(O[P]=T[P]);if(C){S=C(T);for(var I=0;I<S.length;I++)E.call(T,S[I])&&(O[S[I]]=T[S[I]])}}return O}},function(w,k,T){(function(k){for(var C=T(24),A="undefined"==typeof window?k:window,E=["moz","webkit"],S="AnimationFrame",O=A["request"+S],R=A["cancel"+S]||A["cancelRequest"+S],P=0;!O&&P<E.length;P++)O=A[E[P]+"Request"+S],R=A[E[P]+"Cancel"+S]||A[E[P]+"CancelRequest"+S];if(!O||!R){var I=0,L=0,x=[];O=function(w){if(0===x.length){var k=C(),T=Math.max(0,1e3/60-(k-I));I=T+k,setTimeout((function(){var w=x.slice(0);x.length=0;for(var t=function(){if(!w[k].cancelled)try{w[k].callback(I)}catch(w){setTimeout((function(){throw w}),0)}},k=0;k<w.length;k++)t()}),Math.round(T))}return x.push({handle:++L,callback:w,cancelled:!1}),L},R=function(w){for(var k=0;k<x.length;k++)x[k].handle===w&&(x[k].cancelled=!0)}}w.exports=function(w){return O.call(A,w)},w.exports.cancel=function(){R.apply(A,arguments)},w.exports.polyfill=function(w){w||(w=A),w.requestAnimationFrame=O,w.cancelAnimationFrame=R}}).call(this,T(4))},function(w,k,T){(function(k){(function(){var T,C,A,E,S,O;"undefined"!=typeof performance&&null!==performance&&performance.now?w.exports=function(){return performance.now()}:null!=k&&k.hrtime?(w.exports=function(){return(T()-S)/1e6},C=k.hrtime,E=(T=function(){var w;return 1e9*(w=C())[0]+w[1]})(),O=1e9*k.uptime(),S=E-O):Date.now?(w.exports=function(){return Date.now()-A},A=Date.now()):(w.exports=function(){return(new Date).getTime()-A},A=(new Date).getTime())}).call(this)}).call(this,T(11))},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C={modern:{fat:[{serviceDomain:"https://www.fat1.qa.nt.tripqate.com/",cookieDomain:"tripqate.com"}],uat:[{serviceDomain:"https://www.uat.tripqate.com/",cookieDomain:"tripqate.com"}],pro:[{serviceDomain:"https://www.trip.com/",cookieDomain:"trip.com"}]},legacy:{fat:[{serviceDomain:"https://www.fat1.qa.nt.tripcorp.com/",cookieDomain:"tripcorp.com"},{serviceDomain:"https://www.fat1.qa.nt.tripcorp.com/",cookieDomain:"qa.nt.tripcorp.com"}],uat:[{serviceDomain:"https://www.uat.tripcorp.com/",cookieDomain:"tripcorp.com"}],pro:[{serviceDomain:"https://www.trip.com/",cookieDomain:"trip.com"}]}},A={modern:{dev:"https://www.fat1.qa.nt.tripqate.com/",fat:"https://www.fat1.qa.nt.tripqate.com/",uat:"https://www.uat.tripqate.com/",pro:"https://www.trip.com/"},legacy:{dev:"https://www.fat1.qa.nt.tripcorp.com/",fat:"https://www.fat1.qa.nt.tripcorp.com/",uat:"https://www.uat.tripcorp.com/",pro:"https://www.trip.com/"}};function i(){var w="modern";return window.location.host.match(/\.tripcorp\.com/)&&(w="legacy"),w}var a=function(){var w="pro",k=window.location.host;return(k.indexOf("localhost")>-1||k.indexOf("127.0.0.1")>-1||k.indexOf("dev")>-1)&&(w="dev"),(k.indexOf("fat")>-1||k.indexOf("fws")>-1)&&(w="fat"),k.indexOf("uat")>-1&&(w="uat"),w},E={getEnv:a,getGatewayBaseUrl:function(){var w=a();return"dev"===w||"fat"===w?"https://www.fat1.qa.nt.tripqate.com":"uat"===w?"https://www.uat.tripqate.com":"https://"+window.location.host},getApiBaseUrl:function(){var w=a();return A[i()][w]},getAuthDomain:function(){var w=a();return"dev"===w&&(w="fat"),C[i()][w]},getCompatibleDomainType:i,compatibleEnv2ApiBaseUrlMap:A,compatibleEnv2AuthDomainMap:C};k.default=E},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=i(T(13)),A=i(T(14));function i(w){return w&&w.__esModule?w:{default:w}}var E=C.default.getApiUrlConfig();k.default={writeTicket:function(w,k,T){return new Promise((function(C,S){A.default.sendApiRequest(w+E.writeI18nTicketUrl,k,T).then((function(w){C(w)})).catch((function(w){S(w)}))}))},isLogin:function(w,k,T){return new Promise((function(C,S){A.default.sendApiRequest(w+E.isLoginUrl,k,T).then((function(w){C(w)})).catch((function(w){S(w)}))}))},logOut:function(w,k,T){return new Promise((function(C,S){A.default.sendApiRequest(w+E.logOutUrl,k,T).then((function(w){C(w)})).catch((function(w){S(w)}))}))},getAccountInfoByTicket:function(w,k,T){return new Promise((function(C,S){A.default.sendApiRequest(w+E.getAccountInfoByTicketUrl,k,T).then((function(w){C(w)})).catch((function(w){S(w)}))}))},getAccountInfoByTicketGateway:function(w,k){return new Promise((function(T,C){A.default.sendGatewayRequest(E.getAccountInfoByTicketGatewayUrl,w,k).then((function(w){T(w)})).catch((function(w){C(w)}))}))},getCrossDomainTicket:function(w,k,T){return new Promise((function(C,S){A.default.sendApiRequest(w+E.getTicketUrl,k,T).then((function(w){C(w)})).catch((function(w){S(w)}))}))}}},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=Object.assign||function(w){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(w[C]=T[C])}return w},A=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),E=u(T(28)),S=u(T(6));function u(w){return w&&w.__esModule?w:{default:w}}var O=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return A(e,null,[{key:"traceRequest",value:function(w,k){try{var T=new E.default,A=C({ubtType:"network"},{sdkVersion:"npm-0.0.8",siteGroup:"trip",platform:"H5"},k);T.trace(w,A)}catch(w){}}},{key:"metricOperation",value:function(w,k){try{var T=C({ubtType:"operation"},{sdkVersion:"npm-0.0.8",siteGroup:"trip",platform:"H5"},k);(new E.default).trace(w,T)}catch(w){}}},{key:"metricPV",value:function(w,k){try{var T=C({ubtType:"pv"},{sdkVersion:"npm-0.0.8",siteGroup:"trip",platform:"H5"},k);(new E.default).trace(w,T)}catch(w){}}},{key:"md5",value:function(w){try{return(new E.default).Md5(w)}catch(w){}}},{key:"metricRequest",value:function(w,k,T,C){var A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"accountgateway",E={requestUrl:w,requestBody:T.requestBody||k,platform:T.platform||"H5",sceneType:T.sceneType||"",subSceneType:T.subSceneType||"",locale:k.locale||T.locale||"en-xx"};"accountgateway"==A?E.logTraceId=C&&C.RequestId?C.RequestId:"":"h5gateway"==A&&(E.logTraceId=S.default.getH5gatewayMessageId(C)),E.responseBody=T.isIncludeResp&&"F"==T.isIncludeResp?{}:C,E.returnCode=C.returnCode,E.message=C.message,T.metricKey&&e.traceRequest(T.metricKey,E)}}]),e}();k.default=O},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),A=u(T(29)),E=u(T(32)),S=u(T(5));function u(w){return w&&w.__esModule?w:{default:w}}var O=function(){function e(w){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,[{key:"metric",value:function(w,k){A.default.metric(w,k)}},{key:"trace",value:function(w,k){try{var T=E.default.getCommonData();for(var C in k)if(C&&"mobile,email,loginName".indexOf(C)>-1){var S=k[C];T[C]=this.Md5(S)}else T[C]=k[C];A.default.trace(w,T)}catch(w){}}},{key:"Md5",value:function(w){return S.default.Md5(w)}}]),e}();k.default=O,"undefined"!=typeof window&&(window.AccountUbt||(window.AccountUbt=O))},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C,A=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}();(C=T(5))&&C.__esModule;var E=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return A(e,null,[{key:"metric",value:function(w,k){try{void 0===window.__bfi&&(window.__bfi=[]),__bfi.push(["_trackMetric",{name:w,value:1,tag:k}])}catch(w){}}},{key:"trace",value:function(w,k){var T=JSON.stringify(k);try{void 0===window.__bfi&&(window.__bfi=[]),__bfi.push(["_tracklog",w,T])}catch(w){}}}]),e}();k.default=E},function(module,exports,__nested_webpack_require_47993__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__nested_webpack_require_47993__(31),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(w){return"[object Array]"===Object.prototype.toString.call(w)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(w){return"object"==typeof w&&w.buffer&&w.buffer.constructor===ArrayBuffer});var createOutputMethod=function(w){return function(k){return new Md5(!0).update(k)[w]()}},createMethod=function(){var w=createOutputMethod("hex");NODE_JS&&(w=nodeWrap(w)),w.create=function(){return new Md5},w.update=function(k){return w.create().update(k)};for(var k=0;k<OUTPUT_TYPES.length;++k){var T=OUTPUT_TYPES[k];w[T]=createOutputMethod(T)}return w},nodeWrap=function nodeWrap(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(w){if("string"==typeof w)return crypto.createHash("md5").update(w,"utf8").digest("hex");if(null==w)throw ERROR;return w.constructor===ArrayBuffer&&(w=new Uint8Array(w)),Array.isArray(w)||ArrayBuffer.isView(w)||w.constructor===Buffer?crypto.createHash("md5").update(new Buffer(w)).digest("hex"):method(w)};return nodeMethod};function Md5(w){if(w)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var k=new ArrayBuffer(68);this.buffer8=new Uint8Array(k),this.blocks=new Uint32Array(k)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(w){if(!this.finalized){var k,T=typeof w;if("string"!==T){if("object"!==T)throw ERROR;if(null===w)throw ERROR;if(ARRAY_BUFFER&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!(Array.isArray(w)||ARRAY_BUFFER&&ArrayBuffer.isView(w)))throw ERROR;k=!0}for(var C,A,E=0,S=w.length,O=this.blocks,R=this.buffer8;E<S;){if(this.hashed&&(this.hashed=!1,O[0]=O[16],O[16]=O[1]=O[2]=O[3]=O[4]=O[5]=O[6]=O[7]=O[8]=O[9]=O[10]=O[11]=O[12]=O[13]=O[14]=O[15]=0),k)if(ARRAY_BUFFER)for(A=this.start;E<S&&A<64;++E)R[A++]=w[E];else for(A=this.start;E<S&&A<64;++E)O[A>>2]|=w[E]<<SHIFT[3&A++];else if(ARRAY_BUFFER)for(A=this.start;E<S&&A<64;++E)(C=w.charCodeAt(E))<128?R[A++]=C:C<2048?(R[A++]=192|C>>6,R[A++]=128|63&C):C<55296||C>=57344?(R[A++]=224|C>>12,R[A++]=128|C>>6&63,R[A++]=128|63&C):(C=65536+((1023&C)<<10|1023&w.charCodeAt(++E)),R[A++]=240|C>>18,R[A++]=128|C>>12&63,R[A++]=128|C>>6&63,R[A++]=128|63&C);else for(A=this.start;E<S&&A<64;++E)(C=w.charCodeAt(E))<128?O[A>>2]|=C<<SHIFT[3&A++]:C<2048?(O[A>>2]|=(192|C>>6)<<SHIFT[3&A++],O[A>>2]|=(128|63&C)<<SHIFT[3&A++]):C<55296||C>=57344?(O[A>>2]|=(224|C>>12)<<SHIFT[3&A++],O[A>>2]|=(128|C>>6&63)<<SHIFT[3&A++],O[A>>2]|=(128|63&C)<<SHIFT[3&A++]):(C=65536+((1023&C)<<10|1023&w.charCodeAt(++E)),O[A>>2]|=(240|C>>18)<<SHIFT[3&A++],O[A>>2]|=(128|C>>12&63)<<SHIFT[3&A++],O[A>>2]|=(128|C>>6&63)<<SHIFT[3&A++],O[A>>2]|=(128|63&C)<<SHIFT[3&A++]);this.lastByteIndex=A,this.bytes+=A-this.start,A>=64?(this.start=A-64,this.hash(),this.hashed=!0):this.start=A}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var w=this.blocks,k=this.lastByteIndex;w[k>>2]|=EXTRA[3&k],k>=56&&(this.hashed||this.hash(),w[0]=w[16],w[16]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=w[10]=w[11]=w[12]=w[13]=w[14]=w[15]=0),w[14]=this.bytes<<3,w[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var w,k,T,C,A,E,S=this.blocks;this.first?k=((k=((w=((w=S[0]-680876937)<<7|w>>>25)-271733879<<0)^(T=((T=(-271733879^(C=((C=(-1732584194^2004318071&w)+S[1]-117830708)<<12|C>>>20)+w<<0)&(-271733879^w))+S[2]-1126478375)<<17|T>>>15)+C<<0)&(C^w))+S[3]-1316259209)<<22|k>>>10)+T<<0:(w=this.h0,k=this.h1,T=this.h2,k=((k+=((w=((w+=((C=this.h3)^k&(T^C))+S[0]-680876936)<<7|w>>>25)+k<<0)^(T=((T+=(k^(C=((C+=(T^w&(k^T))+S[1]-389564586)<<12|C>>>20)+w<<0)&(w^k))+S[2]+606105819)<<17|T>>>15)+C<<0)&(C^w))+S[3]-1044525330)<<22|k>>>10)+T<<0),k=((k+=((w=((w+=(C^k&(T^C))+S[4]-176418897)<<7|w>>>25)+k<<0)^(T=((T+=(k^(C=((C+=(T^w&(k^T))+S[5]+1200080426)<<12|C>>>20)+w<<0)&(w^k))+S[6]-1473231341)<<17|T>>>15)+C<<0)&(C^w))+S[7]-45705983)<<22|k>>>10)+T<<0,k=((k+=((w=((w+=(C^k&(T^C))+S[8]+1770035416)<<7|w>>>25)+k<<0)^(T=((T+=(k^(C=((C+=(T^w&(k^T))+S[9]-1958414417)<<12|C>>>20)+w<<0)&(w^k))+S[10]-42063)<<17|T>>>15)+C<<0)&(C^w))+S[11]-1990404162)<<22|k>>>10)+T<<0,k=((k+=((w=((w+=(C^k&(T^C))+S[12]+1804603682)<<7|w>>>25)+k<<0)^(T=((T+=(k^(C=((C+=(T^w&(k^T))+S[13]-40341101)<<12|C>>>20)+w<<0)&(w^k))+S[14]-1502002290)<<17|T>>>15)+C<<0)&(C^w))+S[15]+1236535329)<<22|k>>>10)+T<<0,k=((k+=((C=((C+=(k^T&((w=((w+=(T^C&(k^T))+S[1]-165796510)<<5|w>>>27)+k<<0)^k))+S[6]-1069501632)<<9|C>>>23)+w<<0)^w&((T=((T+=(w^k&(C^w))+S[11]+643717713)<<14|T>>>18)+C<<0)^C))+S[0]-373897302)<<20|k>>>12)+T<<0,k=((k+=((C=((C+=(k^T&((w=((w+=(T^C&(k^T))+S[5]-701558691)<<5|w>>>27)+k<<0)^k))+S[10]+38016083)<<9|C>>>23)+w<<0)^w&((T=((T+=(w^k&(C^w))+S[15]-660478335)<<14|T>>>18)+C<<0)^C))+S[4]-405537848)<<20|k>>>12)+T<<0,k=((k+=((C=((C+=(k^T&((w=((w+=(T^C&(k^T))+S[9]+568446438)<<5|w>>>27)+k<<0)^k))+S[14]-1019803690)<<9|C>>>23)+w<<0)^w&((T=((T+=(w^k&(C^w))+S[3]-187363961)<<14|T>>>18)+C<<0)^C))+S[8]+1163531501)<<20|k>>>12)+T<<0,k=((k+=((C=((C+=(k^T&((w=((w+=(T^C&(k^T))+S[13]-1444681467)<<5|w>>>27)+k<<0)^k))+S[2]-51403784)<<9|C>>>23)+w<<0)^w&((T=((T+=(w^k&(C^w))+S[7]+1735328473)<<14|T>>>18)+C<<0)^C))+S[12]-1926607734)<<20|k>>>12)+T<<0,k=((k+=((E=(C=((C+=((A=k^T)^(w=((w+=(A^C)+S[5]-378558)<<4|w>>>28)+k<<0))+S[8]-2022574463)<<11|C>>>21)+w<<0)^w)^(T=((T+=(E^k)+S[11]+1839030562)<<16|T>>>16)+C<<0))+S[14]-35309556)<<23|k>>>9)+T<<0,k=((k+=((E=(C=((C+=((A=k^T)^(w=((w+=(A^C)+S[1]-1530992060)<<4|w>>>28)+k<<0))+S[4]+1272893353)<<11|C>>>21)+w<<0)^w)^(T=((T+=(E^k)+S[7]-155497632)<<16|T>>>16)+C<<0))+S[10]-1094730640)<<23|k>>>9)+T<<0,k=((k+=((E=(C=((C+=((A=k^T)^(w=((w+=(A^C)+S[13]+681279174)<<4|w>>>28)+k<<0))+S[0]-358537222)<<11|C>>>21)+w<<0)^w)^(T=((T+=(E^k)+S[3]-722521979)<<16|T>>>16)+C<<0))+S[6]+76029189)<<23|k>>>9)+T<<0,k=((k+=((E=(C=((C+=((A=k^T)^(w=((w+=(A^C)+S[9]-640364487)<<4|w>>>28)+k<<0))+S[12]-421815835)<<11|C>>>21)+w<<0)^w)^(T=((T+=(E^k)+S[15]+530742520)<<16|T>>>16)+C<<0))+S[2]-995338651)<<23|k>>>9)+T<<0,k=((k+=((C=((C+=(k^((w=((w+=(T^(k|~C))+S[0]-198630844)<<6|w>>>26)+k<<0)|~T))+S[7]+1126891415)<<10|C>>>22)+w<<0)^((T=((T+=(w^(C|~k))+S[14]-1416354905)<<15|T>>>17)+C<<0)|~w))+S[5]-57434055)<<21|k>>>11)+T<<0,k=((k+=((C=((C+=(k^((w=((w+=(T^(k|~C))+S[12]+1700485571)<<6|w>>>26)+k<<0)|~T))+S[3]-1894986606)<<10|C>>>22)+w<<0)^((T=((T+=(w^(C|~k))+S[10]-1051523)<<15|T>>>17)+C<<0)|~w))+S[1]-2054922799)<<21|k>>>11)+T<<0,k=((k+=((C=((C+=(k^((w=((w+=(T^(k|~C))+S[8]+1873313359)<<6|w>>>26)+k<<0)|~T))+S[15]-30611744)<<10|C>>>22)+w<<0)^((T=((T+=(w^(C|~k))+S[6]-1560198380)<<15|T>>>17)+C<<0)|~w))+S[13]+1309151649)<<21|k>>>11)+T<<0,k=((k+=((C=((C+=(k^((w=((w+=(T^(k|~C))+S[4]-145523070)<<6|w>>>26)+k<<0)|~T))+S[11]-1120210379)<<10|C>>>22)+w<<0)^((T=((T+=(w^(C|~k))+S[2]+718787259)<<15|T>>>17)+C<<0)|~w))+S[9]-343485551)<<21|k>>>11)+T<<0,this.first?(this.h0=w+1732584193<<0,this.h1=k-271733879<<0,this.h2=T-1732584194<<0,this.h3=C+271733878<<0,this.first=!1):(this.h0=this.h0+w<<0,this.h1=this.h1+k<<0,this.h2=this.h2+T<<0,this.h3=this.h3+C<<0)},Md5.prototype.hex=function(){this.finalize();var w=this.h0,k=this.h1,T=this.h2,C=this.h3;return HEX_CHARS[w>>4&15]+HEX_CHARS[15&w]+HEX_CHARS[w>>12&15]+HEX_CHARS[w>>8&15]+HEX_CHARS[w>>20&15]+HEX_CHARS[w>>16&15]+HEX_CHARS[w>>28&15]+HEX_CHARS[w>>24&15]+HEX_CHARS[k>>4&15]+HEX_CHARS[15&k]+HEX_CHARS[k>>12&15]+HEX_CHARS[k>>8&15]+HEX_CHARS[k>>20&15]+HEX_CHARS[k>>16&15]+HEX_CHARS[k>>28&15]+HEX_CHARS[k>>24&15]+HEX_CHARS[T>>4&15]+HEX_CHARS[15&T]+HEX_CHARS[T>>12&15]+HEX_CHARS[T>>8&15]+HEX_CHARS[T>>20&15]+HEX_CHARS[T>>16&15]+HEX_CHARS[T>>28&15]+HEX_CHARS[T>>24&15]+HEX_CHARS[C>>4&15]+HEX_CHARS[15&C]+HEX_CHARS[C>>12&15]+HEX_CHARS[C>>8&15]+HEX_CHARS[C>>20&15]+HEX_CHARS[C>>16&15]+HEX_CHARS[C>>28&15]+HEX_CHARS[C>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var w=this.h0,k=this.h1,T=this.h2,C=this.h3;return[255&w,w>>8&255,w>>16&255,w>>24&255,255&k,k>>8&255,k>>16&255,k>>24&255,255&T,T>>8&255,T>>16&255,T>>24&255,255&C,C>>8&255,C>>16&255,C>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var w=new ArrayBuffer(16),k=new Uint32Array(w);return k[0]=this.h0,k[1]=this.h1,k[2]=this.h2,k[3]=this.h3,w},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var w,k,T,C="",A=this.array(),E=0;E<15;)w=A[E++],k=A[E++],T=A[E++],C+=BASE64_ENCODE_CHAR[w>>>2]+BASE64_ENCODE_CHAR[63&(w<<4|k>>>4)]+BASE64_ENCODE_CHAR[63&(k<<2|T>>>6)]+BASE64_ENCODE_CHAR[63&T];return w=A[E],C+(BASE64_ENCODE_CHAR[w>>>2]+BASE64_ENCODE_CHAR[w<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__nested_webpack_require_47993__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__nested_webpack_require_47993__(11),__nested_webpack_require_47993__(4))},function(w,k){(function(k){w.exports=k}).call(this,{})},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C,A=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),E=(C=T(5))&&C.__esModule?C:{default:C},S=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return A(e,null,[{key:"getCommonData",value:function(){return{duid:E.default.getCookie("DUID"),url:window.location.href,rmsToken:E.default.getRmsToken()}}}]),e}();k.default=S},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),A=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,null,[{key:"setCookie",value:function(w,k,T,C,A,E){var S=T.toGMTString();document.cookie=w+"="+k+(S?"; expires="+S:"")+(C?"; path="+C:"")+(A?"; domain="+A:"")+(E?"; secure":"")}},{key:"getCookie",value:function(w){for(var k=document.cookie,T=w+"=",C=T.length,A=k.length,E=0;E<A;){var S=E+C;if(k.substring(E,S)===T)return this.getCookieVal(S);if(0===(E=k.indexOf(" ",E)+1))break}return null}},{key:"getCookieVal",value:function(w){var k=document.cookie.indexOf(";",w),T=void 0;-1===k&&(k=document.cookie.length);var C=unescape(document.cookie.substring(w,k));try{T=JSON.parse(C)}catch(w){T=C}return T}},{key:"remove",value:function(w,k,T){this.get(w)&&(document.cookie=w+"="+(k?"; path="+k:"")+(T?"; domain="+T:"")+"; expires=Thu, 01-Jan-1970 00:00:01 GMT")}}]),e}();k.default=A},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=Object.assign||function(w){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(w[C]=T[C])}return w},A=a(T(14)),E=a(T(6));function a(w){return w&&w.__esModule?w:{default:w}}var S=T(15).UrlConfig.getApiUrlConfig();k.default={authenticate:function(w,k){return new Promise((function(T,O){var R={};R.AccountHead={Locale:w.locale};var P=E.default.getContextOrExtMap(w);w.redirectUri&&(P.redirectUri=w.redirectUri),R.Data={accessToken:w.accessToken,authCode:w.authCode,thirdType:w.thirdType,thirdConfigCode:w.thirdConfigCode,context:P,accountHead:C({},E.default.getReqCommonDataAccountHead(w))};var I="authcode"==w.authorizeType?S.authenticateUrl:S.authenticateByAccessTokenUrl;A.default.sendGatewayRequest(I,R,k).then((function(w){T(w)})).catch((function(w){O(w)}))}))},thirdPartLogin:function(w,k){return new Promise((function(T,O){var R={};R.AccountHead={Locale:w.locale};var P=E.default.getContextOrExtMap(w);R.Data={strategyCode:w.strategyCode,token:w.token,autoRegister:w.autoRegister,context:P||{},accountHead:C({accessCode:w.accessCode},E.default.getReqCommonDataAccountHead(w))},A.default.sendGatewayRequest(S.thirdPartyLoginUrl,R,k).then((function(w){T(w)})).catch((function(w){O(w)}))}))},thirdPartBindAndLogin:function(w,k){return new Promise((function(T,O){var R={};R.AccountHead={Locale:w.locale};var P=E.default.getContextOrExtMap(w);R.Data={strategyCode:w.strategyCode,thirdToken:w.thirdToken,validateToken:w.validateToken,autoRegister:w.autoRegister,userName:w.userName,pwd:w.pwd,context:P||{},accountHead:C({accessCode:w.accessCode},E.default.getReqCommonDataAccountHead(w))},A.default.sendGatewayRequest(S.thirdPartyBindAndLoginUrl,R,k).then((function(w){T(w)})).catch((function(w){O(w)}))}))},getThirdPartInfoByThirdToken:function(w,k){return new Promise((function(T,O){var R={};R.AccountHead={Locale:w.locale},R.Data={token:w.token,accountHead:C({},E.default.getReqCommonDataAccountHead(w))},A.default.sendGatewayRequest(S.getThirdPartInfoByThirdTokenUrl,R,k).then((function(w){T(w)})).catch((function(w){O(w)}))}))}}},function(w,k,T){T(17),w.exports=T(36)},function(w,k,T){var C=T(16);w.exports=C.default}])},module.exports=t()},89709:function(module){var t;"undefined"!=typeof self&&self,t=function(){return function(w){var k={};function n(T){if(k[T])return k[T].exports;var C=k[T]={i:T,l:!1,exports:{}};return w[T].call(C.exports,C,C.exports,n),C.l=!0,C.exports}return n.m=w,n.c=k,n.d=function(w,k,T){n.o(w,k)||Object.defineProperty(w,k,{enumerable:!0,get:T})},n.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},n.t=function(w,k){if(1&k&&(w=n(w)),8&k)return w;if(4&k&&"object"==typeof w&&w&&w.__esModule)return w;var T=Object.create(null);if(n.r(T),Object.defineProperty(T,"default",{enumerable:!0,value:w}),2&k&&"string"!=typeof w)for(var C in w)n.d(T,C,function(k){return w[k]}.bind(null,C));return T},n.n=function(w){var k=w&&w.__esModule?function(){return w.default}:function(){return w};return n.d(k,"a",k),k},n.o=function(w,k){return Object.prototype.hasOwnProperty.call(w,k)},n.p="",n(n.s=84)}([function(w,k,T){"use strict";T.d(k,"a",(function(){return j})),T.d(k,"b",(function(){return F})),T.d(k,"c",(function(){return q}));var C=T(8),A=T.n(C),E=T(9),S=T.n(E),O=T(1),R=T.n(O),P=T(45),I=T.n(P),L=T(32),x=T.n(L),B=T(4),D=T(27);function g(w,k){var T=Object.keys(w);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(w);k&&(C=C.filter((function(k){return Object.getOwnPropertyDescriptor(w,k).enumerable}))),T.push.apply(T,C)}return T}function y(w){for(var k=1;k<arguments.length;k++){var T=null!=arguments[k]?arguments[k]:{};k%2?g(Object(T),!0).forEach((function(k){R()(w,k,T[k])})):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(T)):g(Object(T)).forEach((function(k){Object.defineProperty(w,k,Object.getOwnPropertyDescriptor(T,k))}))}return w}T(94);var j={SUCCESS:"success",FAILED:"failed"},F={ibu_pub_infosec_verify_request:"240539",ibu_pub_infosec_verify_exposure:"240540",ibu_pub_infosec_verify_result:"240541"},q=new(function(){function e(){A()(this,e),R()(this,"sourceFrom","")}return S()(e,[{key:"setSourceFrom",value:function(w){this.sourceFrom=w}}]),e}()),V={ubtInstance:new I.a,metricKey:113086,traceKey:103664,trace:function(w){try{V.ubtInstance.trace(V.traceKey,y(y({},w),D.a.getCommonStatus()))}catch(w){}},logTrace:function(w,k){try{var T=y(y({sourceFrom:q.sourceFrom,platform:B.a.isInMobile()?"h5":"pc",version:"2.0",locale:B.a.getLocale().replace("_","-")},D.a.getCommonStatus()),k);V.ubtInstance.trace(w,T)}catch(w){}},logSliderTrace:function(w,k){try{var T=y(y(y({source:"onlineThirdPart",platform:B.a.isInMobile()?"H5":"PC"},D.a.getCommonStatus()),D.a.getPVidAndPid()),k);V.ubtInstance.trace(w,T)}catch(w){}},logDevTrace:function(w){try{void 0===window.__bfi&&(window.__bfi=[]),window.__bfi.push(["_devTrace","bbz_accounts_triponline_flow",w])}catch(w){}},metricOperation:function(w){var k=y(y({},D.a.getCommonStatus()),{},{sourceFrom:q.sourceFrom},w);x.a.metricOperation(V.metricKey,k)},getPageId:function(){var w="";try{window.__bfi.push(["_getStatus",function(k){w=k&&k.pid?k.pid:""}])}catch(w){}return w},logLoginMetric:function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();try{var C={result:w,appId:V.getPageId()||"unknown",groupPlatform:"trip_pc",path:window.location.pathname,source:"i18nonlinethirdpartsdk",code:k.code||0,stage:k.stage||"",scene:k.scene||""};window.__bfi.push(["_trackMetric",{name:"bbz_accounts_login_statistics",value:Math.max(1,Date.now()-T),tag:C,extend:{method:"get"}}])}catch(w){}}};k.d=V},function(w,k){w.exports=function(w,k,T){return k in w?Object.defineProperty(w,k,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[k]=T,w}},,function(w,k,T){"use strict";T.d(k,"b",(function(){return C})),T.d(k,"c",(function(){return A})),T.d(k,"a",(function(){return E}));var C={trip_PClogin_thirdparty_authorize_result:"212025",trip_PClogin_thirdparty_emailbind_show:"212026",trip_PClogin_thirdparty_emailbind_button:"212027",trip_PClogin_thirdparty_passwordverify_show:"212028",trip_PClogin_thirdparty_passwordverify_button:"212029",trip_PClogin_thirdparty_passwordset_show:"212030",trip_PClogin_thirdparty_passwordset_button:"212031",trip_PClogin_thirdparty_result:"215371",ibu_pub_login_thirdparty_email_bind_phase_exposure:"235608",ibu_pub_login_third_email_link_inputpwd_sign_click:"245075",ibu_pub_login_verification_code_sign_click:"244922",ibu_pub_login_thirdparty_result:"234905",ibu_pub_login_thirdparty_email_code_sign_click:"244923",ibu_pub_login_thirdparty_email_link_resetpwd_click:"245076",ibu_pub_login_third_email_link_resetpwd_skip_click:"245077"},A={other:"other",directLogin:"directLogin",verifiedEmailRegisterAndLogin:"verifiedEmailRegisterAndLogin",unverifiedEmailLogin:"unverifiedEmailLogin",unverifiedEmailRegisterAndLogin:"unverifiedEmailRegisterAndLogin"},E={AUTHENTICATE:"authenticate",DIRECT_LOGIN:"direct_login",THIRDPARTY_CALLBACK:"thirdpartycallback",BINDANDLOGIN_WITH_VERIFYED_EMAIL:"bindandloginwithverifyedemail",EMAIL_VIEW:"emailView",VALIDATEEMAIL_EMPTYEMAIL:"validateEmail_emptyEmail",VALIDATEEMAIL_EMAILFORMAT:"validateEmail_emailFormat",UNREGISTERD_EMAIL_VIEW:"unregisterd_emailView",UNREGISTERD_EMAILVIEW_EMPTYPWD:"unregisterd_emailView_emptypwd",UNREGISTERD_EMAILVIEW_PWDLENGTH:"unregisterd_emailView_pwdlength",UNREGISTERD_EMAILVIEW_LEVEL1003:"unregisterd_emailView_level1003",UNREGISTERD_EMAILVIEW_TCCHECKED:"unregisterd_emailView_tcChecked",REGISTERD_EMAIL_VIEW:"registerd_emailView",REGISTERD_EMAILVIEW_EMPTYPWD:"registerd_emailView_emptypwd"}},function(w,k,T){"use strict";T(61);var C=T(14),A=T.n(C),E=T(62),S=T.n(E),O={getEnv:function(){return A.a.getEnv()},getLocale:function(){var w=O.isInMobile()?"h5":"online";return S.a.getLocale(w).toLowerCase()},isInMobile:function(){var w=navigator.userAgent,k=!w.match(/(iPad).*OS\s([\d_]+)/)&&w.match(/(iPhone\sOS)\s([\d_]+)/),T=w.match(/(Android)\s+([\d.]+)/);return k||T},isInWebView:function(){var w=window.navigator,k=w.userAgent,T=-1!==k.indexOf("Android")||-1!==k.indexOf("Adr");return k.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?-1===k.indexOf("Safari")||-1===k.indexOf("Version")||w.standalone:!!T&&-1!==k.indexOf("Version")},isAmdEnv:function(){return!!T(60)},getIsAe:function(){var w=this.getLocale().replace("_","-");return["ar-XX","ar-SA","ar-AE","ar-xx","ar-sa","ar-ae"].includes(w)}};k.a=O},,function(w,k,T){"use strict";T.d(k,"d",(function(){return C})),T.d(k,"c",(function(){return A})),T.d(k,"a",(function(){return E})),T.d(k,"b",(function(){return S}));var C={facebook:"facebook",google:"google",kakao:"kakao",line:"line",twitter:"twitter",naver:"naver",wechat:"wechat",wechat_union:"wechat_union",apple:"apple",apple_trip:"apple_trip"},A={showCallback:100,registerCallback:200,authenticateFailed:-1,thirdPartLoginSuccess:2,thirdPartLoginFailed:-2,bindAndLoginWithVerifiedEmailSuccess:3,bindAndLoginWithVerifiedEmailFailed:-3,bindWithNotVerifiedEmail:4,fatal:-99,NETWORK_ERROR:-1e3,VALIDATE_INPUT_ERROR:-2400,VALIDATE_AGREEMENT_ERROR:-2401,UNREGISTERD_EMAIL_VIEW:-2416,REGISTERD_EMAIL_VIEW:-2417},E={clientId:"com.ctrip.passport",scope:"email",usePopup:!0},S={LOGIN_SUCCESS:"LoginSuccess",LOGIN_FAIL:"LoginFail",REGISTER_SUCCESS:"RegisterSuccess",NOT_CREDIBLE_EMAIL:"NotCredibleEmail"}},,function(w,k){w.exports=function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}},function(w,k){function n(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}w.exports=function(w,k,T){return k&&n(w.prototype,k),T&&n(w,T),w}},,function(w,k){w.exports=function(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}},,,function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C,A=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),E=T(49),S=(C=T(61))&&C.__esModule?C:{default:C},O=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return A(e,null,[{key:"getReqCommonDataAccountHead",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{locale:w.locale,platform:w.platform,group:w.group||E.CommonConfig.group,sourceId:w.sourceId}}},{key:"getHeadExtension",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"group",value:w.group||"trip"},{name:"platform",value:w.platform||"PC"}]}},{key:"getEnv",value:function(){var w=window.location.host;return w.indexOf("localhost")>-1||w.indexOf("127.0.0.1")>-1||w.indexOf("dev")>-1?"dev":w.indexOf("fat")>-1||w.indexOf("fws")>-1?"fat":w.indexOf("uat")>-1?"uat":"pro"}},{key:"getRmsToken",value:function(){var w="";return window.__rmsbfi=window.__rmsbfi||[],window.__rmsbfi.push(["_getRmsToken",function(k){w=k}],!1),w}},{key:"getPageId",value:function(){var w=document.getElementById("page_id");return w?w.value:""}},{key:"getFP",value:function(){var w=void 0;return window.__rmsbfi=window.__rmsbfi||[],__bfi.push(["_getFP",function(k){w=k}]),w}},{key:"getVid",value:function(){var w=S.default.getCookie("_bfa"),k=w?w.split("."):[];return k&&k.length>2?k[1]+"."+w[2]:""}},{key:"getH5gatewayMessageId",value:function(w){if(w.responseStatus&&w.responseStatus.Extension)for(var k=w.responseStatus.Extension,T=0;T<k.length;T++){var C=k[T];if("RootMessageId"==C.id)return C.Value}return""}},{key:"countDowns",value:function(w,k,T){var C=this;k(w),0!==w&&window.setTimeout((function(){C.countDowns(--w,k,T)}),T)}},{key:"getContextOrExtList",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=this.getVid(),T=this.getRmsToken(),C=[{key:"Platform",value:w.platform||"P"},{key:"rmsToken",value:T||""},{key:"vid",value:k||""},{key:"http_referer",value:document.referrer||""},{key:"Url",value:window.location.href},{key:"referCode",value:w.referCode||""}];return w.customParam&&C.push({key:"customParam",value:w.customParam}),C}},{key:"getContextOrExtMap",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=this.getVid(),T={Platform:w.platform||"P",rmsToken:this.getRmsToken(),vid:k||"",locale:w.locale||"en-xx",group:w.group||"trip",http_referer:document.referrer||"",Url:window.location.href,referCode:w.referCode||""};return T}},{key:"getAccountHead",value:function(w){return{accessCode:w.accessCode||"",locale:w.locale||"en-xx",platform:w.platform||"P",group:w.group||"trip",rmsToken:this.getRmsToken()||"",sourceId:w.sourceId||""}}}]),e}();k.default=O},function(w,k,T){"use strict";T.d(k,"a",(function(){return C}));var C={userValidateAccessCode:"KFUIE88D83DCE8RT",userValidateStrategyCode:"90374A3429C2C9C3",tpLoginAccessCode:"KFUIE88D83DCE8RT",tpDirectLoginStrategyCode:"DFCB94DC274F8DA8",tpBindAndLoginStrategyCode:"B73093C74E8F891B7",tpBindAndLoginWithPwdStrategyCode:"8837B0C082E03ED",tpBindAndRegisterWithEmail:"KFCB94DC274F8D90",tpLoginSendEmailSceneCode:"E17040038",tpLoginsendEmailAccessCode:"5C9A4FA8E6BD6D10",sendTripEmailTpLoginUrl:"/gateway/api/soa2/11448/sendMessageByEmailTrip",sendTripEmailTpLoginWithRiskUrl:"/gateway/api/soa2/11448/sendTripEmailTpLogin"}},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),A=a(T(40)),E=a(T(32));function a(w){return w&&w.__esModule?w:{default:w}}var S=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,null,[{key:"sendApiRequest",value:function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C="";C=w&&w.indexOf("http")>-1?w:A.default.getGatewayBaseUrl()+w,k.Secretkey="A8CC960CD9BD65C74E3080DAA89B0623";var S=Object.keys(k).map((function(w){return encodeURIComponent(w)+"="+encodeURIComponent(k[w])})).join("&"),O={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"};return this.sendData(C,S,O).then((function(w){return E.default.metricRequest(C,S,T,w),w})).catch((function(w){var k={returncode:-1,returnCode:-1,message:w?w.message:"network error"};throw E.default.metricRequest(C,S,T,k),k}))}},{key:"sendH5gatewayRequest",value:function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C=A.default.getGatewayBaseUrl()+w,S=JSON.stringify(k);return this.sendData(C,S).then((function(w){return E.default.metricRequest(C,S,T,w,"h5gateway"),w})).catch((function(w){var k={returncode:-1,returnCode:-1,message:w?w.message:"network error"};throw E.default.metricRequest(C,S,T,k,"h5gateway"),k}))}},{key:"sendGatewayRequest",value:function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C=A.default.getGatewayBaseUrl()+w,S=JSON.stringify(k);return this.sendData(C,S).then((function(w){if(!w||0!=w.ReturnCode){var k={returnCode:w?w.ReturnCode:-2,returncode:w?w.ReturnCode:-2,message:w?"msg:"+w.Message+",requestId:"+w.RequestId:"gateway request error"};return E.default.metricRequest(C,S,T,k),k}var A=JSON.parse(w.Result);if(!A){var O={returncode:w.ReturnCode,returnCode:w?w.ReturnCode:-2,message:"msg:"+w.Message+",requestId:"+w.RequestId};return E.default.metricRequest(C,S,T,O),O}var R="",P="";return""!==A.ReturnCode&&void 0!==A.ReturnCode&&null!==A.ReturnCode?(R=parseInt(A.ReturnCode,10),P=A.Message):""!==A.returnCode&&void 0!==A.returnCode&&null!==A.returnCode?(R=parseInt(A.returnCode,10),P=A.message):A.resultStatus&&(R=parseInt(A.resultStatus.returnCode,10),P=A.resultStatus.message),A.returncode=R,A.message=P,A.showMessage=w.showMessage,E.default.metricRequest(C,S,T,A),A})).catch((function(w){var k={returncode:-1,returnCode:-1,message:w?w.message:"network error"};throw E.default.metricRequest(C,S,T,k),k}))}},{key:"sendData",value:function(w,k,T){return T||(T={"content-type":"application/json; charset=UTF-8"}),function(w,k){return Promise.race([fetch(w,k),new Promise((function(w,k){setTimeout((function(){return k(new Error("request timeout"))}),5e3)}))])}(w,{body:k,cache:"no-cache",credentials:"include",headers:T,method:"POST",mode:"cors",redirect:"follow",referrer:"*"}).then((function(w){if(w.ok)return w.json();throw new Error("httpStatus:"+w.status)})).catch((function(w){throw new Error("http request failed,"+w.message)}))}}]),e}();k.default=S},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),A=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,null,[{key:"getApiUrlConfig",value:function(){return{authenticateUrl:"/gateway/api/soa2/14553/authenticateTrip",sendTripEmailTpLoginUrl:"/gateway/api/soa2/11448/sendMessageByEmailTrip",authenticateByAccessTokenUrl:"/gateway/api/soa2/14553/authenticateByAccessTokenTrip",getThirdPartInfoByThirdTokenUrl:"/gateway/api/soa2/13191/getThirdPartInfoByThirdTokenTrip",thirdPartyLoginUrl:"/gateway/api/soa2/12559/thirdPartyLoginTrip",thirdPartyBindAndLoginUrl:"/gateway/api/soa2/12559/thirdPartyBindAndLoginTrip",userValidateUrl:"/gateway/api/soa2/12559/userValidateTrip",checkEmailCodeUrl:"/gateway/api/soa2/11448/checkEmailCodeTrip",checkEmailCodeUrlNew:"/restapi/soa2/27024/checkVerifyCode",getLoginTypesByLoginName:"/restapi/soa2/27024/getLoginTypesByLoginName",getUidByLogiNameUrl:"/gateway/api/soa2/11871/xxxloginxxxnamexxx",getCustomerTel:"/restapi/soa2/13909/json/getLocaleServiceTel",autoCompleteMail:"/restapi/soa2/14739/bjjson/getEmailAutoList",newMarketSubscriber:"/restapi/soa2/18765/bjjson/memberSubscribe",edmCheck:"/restapi/soa2/18765/bjjson/safeSite",gdprCheck:"/restapi/soa2/14610/bjjson/check",writeI18nTicketUrl:"ssoproxy/ssoCrossI18NSetCookie",isLoginUrl:"ssoproxy/ssoIsLogon",logOutUrl:"ssoproxy/ssoLogoutByTicket",getAdConfigUrl:"/passport/loginmask/getadconfig",getAccountInfoByTicketUrl:"ssoproxy/ssoGetAccountInfoByTicket",tokenLoginUrl:"/gateway/api/soa2/12559/loginByToken",newLoginUrl:"/gateway/api/soa2/12559/newLoginTrip",nonMemberRegisterAndLoginUrl:"/gateway/api/soa2/15431/nonMemberRegisterAndLoginTrip",newNonMemberRegisterAndLoginUrl:"/restapi/soa2/27024/nonMemberLogin",resetPwdByEmailTokenTripUrl:"/gateway/api/soa2/12715/resetUserPwdByEmailTokenTrip",resetPwdAndSignIn:"/restapi/soa2/27024/resetPassword",emailRegisterUrl:"/gateway/api/soa2/12343/emailRegisterTrip",bindEmailUrl:"/gateway/api/soa2/12715/bindEmail",rebindEmailUrl:"/gateway/api/soa2/12715/changeEmail",checkPermissionUrl:"/gateway/api/soa2/13191/checkPermission",getUidByEmailTokenUrl:"/gateway/api/soa2/13191/getUidByEmailToken",bindThirdPartUrl:"/gateway/api/soa2/12715/thirdBindByTicket",unbindThirdPartUrl:"/gateway/api/soa2/12715/unBindThirdIDByTicket",getThirdPartAccountInfoByTicketUrl:"/gateway/api/soa2/13775/getAccountInfoByTicket",changeUserStatusByTokenUrl:"/gateway/api/soa2/12715/changeUserStatusByToken",noVerifyedEmailRegisterAndLoginUrl:"/gateway/api/soa2/12559/noVerifyedEmailRegisterAndLogin",getEmailByTokenUrl:"/gateway/api/soa2/13191/getEmailByToken",assoicateOrderUrl:"/gateway/api/soa2/13775/associateByTokenAndGetOrder",checkTempEmail:"/restapi/soa2/14739/bjjson/validateEmail",assoicateOrderByTokenUrl:"/gateway/api/soa2/13775/associateOrder",getUnAssociatedOrderByTokenUrl:"/gateway/api/soa2/13775/getUnAssociatedOrderByToken",getAccountInfoByToken:"/gateway/api/soa2/13191/getAccountInfoByToken",sendValidateCodeByAuth:"/gateway/api/soa2/13775/sendValidateCode",validateCodeByAuth:"/gateway/api/soa2/13775/validateCode",userValidateRiskUrl:"/gateway/api/soa2/12559/userValidateRisk",getAccountInfoByTicketGatewayUrl:"/gateway/api/soa2/13775/getAccountInfoByTicket",getTicketUrl:"ssoproxy/ssoGetCookieValByCticket",nonMemberRegisterAndLoginUrlWithRisk:"/gateway/api/soa2/15431/nonMemberRegisterAndLogin",assoicatedKeyUrl:"/gateway/api/soa2/13191/associatedKey",getTokenInfoByTokenUrl:"/gateway/api/soa2/13191/getTokenInfoByToken",passwordCheckRules:"/restapi/soa2/27024/getPassWordRuleJson",verifyCodeLogin:"/restapi/soa2/27024/verifyCodeLogin",pwdLogin:"/restapi/soa2/27024/pwdLogin"}}},{key:"getSendUrlFromBusinessSite",value:function(w){return{crm_ibuturnmember_h5:"/gateway/api/soa2/11448/sendTripToMemberMsg",ibu_bindmail_h5:"/gateway/api/soa2/11448/sendTripEmailBind",ibu_register_h5:"/gateway/api/soa2/11448/sendTripEmailRegister",ibu_repw_h5:"/gateway/api/soa2/11448/sendTripEmailResetPwd",ibu_guestconfirm_h5:"/gateway/api/soa2/11448/sendTripEmailGuestConfirm",ibu_guestconfirm_h5_pic:"/restapi/soa2/27024/sendVerifyCodeByEmail",crm_ibuturnmember_online:"/gateway/api/soa2/11448/sendTripToMemberMsg",ibu_bindmail_online:"/gateway/api/soa2/11448/sendTripEmailBind",crm_ibubindmail_online:"/gateway/api/soa2/11448/sendTripEmailBind",ibu_register_online:"/gateway/api/soa2/11448/sendTripEmailRegister",ibu_repw_online:"/gateway/api/soa2/11448/sendTripEmailResetPwd",ibu_guestconfirm_online:"/gateway/api/soa2/11448/sendTripEmailGuestConfirm",crm_ibumailcheckorder_online:"/gateway/api/soa2/11448/sendMessage4IBUOrderSearch",ibu_mailgetorder_h5:"/gateway/api/soa2/11448/sendMessage4IBUOrderSearch",ibu_guestconfirm_online_pic:"/restapi/soa2/27024/sendVerifyCodeByEmail",defaultSendVerifyCodeByEmail:"/restapi/soa2/27024/sendVerifyCodeByEmail"}[w]}}]),e}();k.default=A},function(w,k,T){"use strict";var C={getZindex:function(){var w=4e3;try{for(var k=document.all||document.querySelectorAll("*"),T=[],C=0;C<k.length;C+=1)T.push(Number(window.getComputedStyle(k[C]).zIndex)||0);return(w=Math.max.apply(null,T))||4e3}catch(k){return w}},isEmail:function(w){return/^[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]+$/.test(w)},getQueryString:function(w){var k=new RegExp("(^|&)".concat(w,"=([^&]*)(&|$)"),"i"),T=window.location.search.substr(1).match(k);return null!=T?decodeURIComponent(T[2]):null},tryRun:function(w){if("function"==typeof w)try{for(var k=arguments.length,T=new Array(k>1?k-1:0),C=1;C<k;C++)T[C-1]=arguments[C];w.apply(void 0,T)}catch(w){}},isRussiaSite:0===window.location.host.indexOf("ru.")};k.a=C},,,,function(w,k){function n(k){return w.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},n(k)}w.exports=n},,,function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=Object.assign||function(w){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(w[C]=T[C])}return w},A=c(T(50)),E=c(T(92)),S=c(T(14));function c(w){return w&&w.__esModule?w:{default:w}}k.default={authenticate:function(w){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(T,A){var O={authorizeType:w.authorizeType,thirdType:w.thirdType,thirdConfigCode:w.thirdConfigCode,authCode:w.authCode,accessToken:w.accessToken,locale:w.locale,group:w.group,platform:w.platform,sourceId:w.sourceId,redirectUri:w.redirectUri},R={metricKey:k.metricKey||106083,platform:w.platform,sceneType:"login",subSceneType:"loginThirdpart"};E.default.authenticate(O,R).then((function(k){if(0!=k.returncode)return T(k);E.default.getThirdPartInfoByThirdToken(C({token:k.token},S.default.getReqCommonDataAccountHead(w))).then((function(w){return w&&0==w.returncode&&(w.token=k.token),T(w)}))})).catch((function(w){A(w)}))}))},thirdPartLogin:function(w,k){return new Promise((function(T,S){E.default.thirdPartLogin(w,k).then((function(w){if(w&&0==w.returncode){var E=C({subSceneType:"writeTicket"},k);A.default.writeTicket({ticket:w.ticket},E).then((function(k){k&&0==k.returnCode?T(w):T({returnCode:-2,message:"write ticket fail"})}))}else T(w)})).catch((function(w){S(w)}))}))},thirdPartBindAndLogin:function(w,k){return new Promise((function(T,S){E.default.thirdPartBindAndLogin(w,k).then((function(w){if(!w||0!=w.returncode)return T(w);var E=C({subSceneType:"writeTicket"},k);A.default.writeTicket({ticket:w.ticket},E).then((function(k){return k&&0==k.returnCode?T(w):T({returnCode:-2,message:"write ticket fail"})}))})).catch((function(w){S(w)}))}))}}},function(w,k,T){"use strict";var C;Object.defineProperty(k,"__esModule",{value:!0}),k.StatisticsLogType=k.NormalTextLogType=k.LogType=k.BusinessScenarioScene=k.Platform=k.Group=k.BuName=k.Organization=void 0,k.Organization="bbz",k.BuName="accounts",function(w){w.trip="trip",w.ctrip="ctrip",w.planet="planet"}(k.Group||(k.Group={})),function(w){w.h5="h5",w.online="online",w.rn="rn",w.wechat="wechat",w.baidu="baidu",w.toutiao="toutiao",w.alipay="alipay",w.quickApp="quickApp"}(k.Platform||(k.Platform={})),function(w){w.mobileOneTapLogin="mobileOneTapLogin",w.thirdLogin="thirdLogin",w.thirdWechatThirdLogin="thirdLogin_wechatThirdLogin",w.thirdWechatMobileLogin="thirdLogin_wechatMobileLogin",w.thirdWechatOnTapMobileLogin="thirdLogin_wechatOneTapMobileLogin",w.doubleValid="doubleValid",w.mobileDynamicLogin="mobileDynamicLogin",w.accountPasswordLogin="accountPasswordLogin",w.overseaLogin="overseaLogin",w.mobileDynamicFirstLogin="mobileDynamicLogin_firstLogin",w.accountPasswordFirstLogin="accountPasswordLogin_firstLogin",w.overseaFirstLogin="overseaLogin_firstLogin",w.planetAccountPasswordLogin="planetAccountPasswordLogin",w.planetAccountPasswordFirstLogin="planetAccountPasswordLogin_firstLogin",w.accountFirstActive="accountActive_firstActive",w.accountActive="accountActive"}(k.BusinessScenarioScene||(k.BusinessScenarioScene={})),function(w){w.flow="flow",w.devTrace="devTrace",w.metric="metric",w.statistics="statistics"}(C=k.LogType||(k.LogType={})),k.NormalTextLogType=[C.devTrace,C.flow],k.StatisticsLogType=[C.metric,C.statistics]},function(w,k,T){"use strict";var C=T(8),A=T.n(C),E=T(9),S=T.n(E),O=T(38),R=new(function(){function e(){A()(this,e),this.pVidAndPid=this.getPVidAndPid()}return S()(e,[{key:"setSDKStatus",value:function(w){var k=w||{},T=k.moduleName,C=void 0===T?"":T,A=k.sdkVersion,E=void 0===A?"":A;(C||E)&&(window.$_ibu_account={moduleName:C||window.$_ibu_account&&window.$_ibu_account.moduleName,version:E})}},{key:"getPVidAndPid",value:function(){var w=this;if(this.pVidAndPid&&this.pVidAndPid.pvid)return this.pVidAndPid;var k={};try{window.__bfi.push(["_getStatus",function(T){var C=T||{},A=C.pvid,E=C.pid;return k={default_pageId:E,pvid:A},w.pVidAndPid=k,k}])}catch(w){}return this.pVidAndPid=k,k}},{key:"getCommonStatus",value:function(){var w=(window.$_ibu_account||{}).moduleName,k=void 0===w?"":w;return Object.assign({},this.getPVidAndPid(),{moduleName:k,defaultSdkVersion:O.a,business:"TripAccount"})}}]),e}());k.a=R},function(w,k,T){"use strict";T.d(k,"a",(function(){return r}));var r=function(w){return!(!w||!w.extendedProperties||"T"!==w.extendedProperties.isNewUser)}},function(w,k,T){var C=T(95);w.exports=function(w,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(k&&k.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),k&&C(w,k)}},function(w,k,T){var C=T(96),A=T(11);w.exports=function(w,k){return!k||"object"!==C(k)&&"function"!=typeof k?A(w):k}},function(w,k,T){"use strict";var C={stringFormat:function(){var w=arguments;return w[0]?w[0].replace(/\{(\d+)\}/g,(function(k,T){return w[T-0+1]})):""},toUpperCase:function(w){return String(w).toUpperCase()},capitalize:function(w){return(w=String(w)).charAt(0).toUpperCase()+w.slice(1)}};k.a=C},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=Object.assign||function(w){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(w[C]=T[C])}return w},A=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),E=c(T(45)),S=c(T(14));function c(w){return w&&w.__esModule?w:{default:w}}var O=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return A(e,null,[{key:"traceRequest",value:function(w,k){try{var T=new E.default,A=C({ubtType:"network"},{sdkVersion:"npm-0.0.8",siteGroup:"trip",platform:"H5"},k);T.trace(w,A)}catch(w){}}},{key:"metricOperation",value:function(w,k){try{var T=C({ubtType:"operation"},{sdkVersion:"npm-0.0.8",siteGroup:"trip",platform:"H5"},k);(new E.default).trace(w,T)}catch(w){}}},{key:"metricPV",value:function(w,k){try{var T=C({ubtType:"pv"},{sdkVersion:"npm-0.0.8",siteGroup:"trip",platform:"H5"},k);(new E.default).trace(w,T)}catch(w){}}},{key:"md5",value:function(w){try{return(new E.default).Md5(w)}catch(w){}}},{key:"metricRequest",value:function(w,k,T,C){var A=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"accountgateway",E={requestUrl:w,requestBody:T.requestBody||k,platform:T.platform||"H5",sceneType:T.sceneType||"",subSceneType:T.subSceneType||"",locale:k.locale||T.locale||"en-xx"};"accountgateway"==A?E.logTraceId=C&&C.RequestId?C.RequestId:"":"h5gateway"==A&&(E.logTraceId=S.default.getH5gatewayMessageId(C)),E.responseBody=T.isIncludeResp&&"F"==T.isIncludeResp?{}:C,E.returnCode=C.returnCode,E.message=C.message,T.metricKey&&e.traceRequest(T.metricKey,E)}}]),e}();k.default=O},,,,,,function(w){w.exports=JSON.parse('{"a":"2.2.9"}')},,function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C,A=(C=T(85))&&C.__esModule?C:{default:C};k.default=A.default},,,function(w,k,T){"use strict";var C=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(k,"__esModule",{value:!0}),k.ThirdPartyType=k.ThirdPartyUtil=void 0;var A=T(134);Object.defineProperty(k,"ThirdPartyUtil",{enumerable:!0,get:function(){return C(A).default}});var E=T(71);Object.defineProperty(k,"ThirdPartyType",{enumerable:!0,get:function(){return E.ThirdPartyType}})},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),A=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,null,[{key:"getPageID",value:function(){var w="";return void 0===window.__bfi&&(window.__bfi=[]),__bfi.push(["_getPageid",function(k,T){w=T}]),w}},{key:"getCookie",value:function(w){for(var k=document.cookie,T=w+"=",C=T.length,A=k.length,E=0;E<A;){var S=E+C;if(k.substring(E,S)===T)return this.getCookieVal(S);if(0===(E=k.indexOf(" ",E)+1))break}return null}},{key:"getCookieVal",value:function(w){var k=document.cookie.indexOf(";",w),T=void 0;-1===k&&(k=document.cookie.length);var C=unescape(document.cookie.substring(w,k));try{T=JSON.parse(C)}catch(w){T=C}return T}},{key:"getRmsToken",value:function(){var w="";return window.__rmsbfi=window.__rmsbfi||[],window.__rmsbfi.push(["_getRmsToken",function(k){w=k}],!1),w}},{key:"json2QueryString",value:function(w){var k="";for(var T in w)k+=T+"="+w[T]+"&";var C=k.length;return C>1&&(k=k.substring(0,C-1)),k}},{key:"Md5",value:function(w){try{return w?T(87)(w).toUpperCase():""}catch(w){}return""}}]),e}();k.default=A},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),A=c(T(86)),E=c(T(90)),S=c(T(44));function c(w){return w&&w.__esModule?w:{default:w}}var O=function(){function e(w){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,[{key:"metric",value:function(w,k){A.default.metric(w,k)}},{key:"trace",value:function(w,k){try{var T=E.default.getCommonData();for(var C in k)if(C&&"mobile,email,loginName".indexOf(C)>-1){var S=k[C];T[C]=this.Md5(S)}else T[C]=k[C];A.default.trace(w,T)}catch(w){}}},{key:"Md5",value:function(w){return S.default.Md5(w)}}]),e}();k.default=O,"undefined"!=typeof window&&(window.AccountUbt||(window.AccountUbt=O))},,,,function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.UrlConfig=k.PasswordStrengthLevel=k.CommonConfig=void 0;var C,A=(C=T(17))&&C.__esModule?C:{default:C};k.CommonConfig={group:"trip"},k.PasswordStrengthLevel={WEAK_PWD:1e3,STRONG_PWD:1001,MEDIUM_PWD:1002,SIMPLE_PWD:1003},k.UrlConfig=A.default},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=o(T(40)),A=o(T(91));function o(w){return w&&w.__esModule?w:{default:w}}k.default={writeTicket:function(w,k){return new Promise((function(T,E){var S=k;void 0!==k&&k||(S={metricKey:106083,platform:"Online",sceneType:"login",subSceneType:"writeTicket"});for(var O=C.default.getAuthDomain(),R=[],P=0;P<O.length;P++){var I={domain:O[P].cookieDomain};Object.assign(I,w),R.push(A.default.writeTicket(O[P].serviceDomain,I,S))}Promise.all(R).then((function(w){T(w[w.length-1])})).catch((function(w){T()}))}))},logOut:function(w,k){var T=k;void 0!==k&&k||(T={metricKey:106083,platform:"Online",sceneType:"login",subSceneType:"logOut"});for(var E=C.default.getAuthDomain(),S=[],O=0;O<E.length;O++){var R={domain:E[O].cookieDomain};Object.assign(R,w),S.push(A.default.logOut(E[O].serviceDomain,R,T))}Promise.all(S).then((function(w){resolve(w[w.length-1])})).catch((function(w){resolve()}))},isLogin:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=arguments[1],T=k;return void 0!==k&&k||(T={metricKey:106083,platform:"H5",sceneType:"login",subSceneType:"isLogin"}),new Promise((function(k,E){var S=C.default.getApiBaseUrl();A.default.isLogin(S,w,T).then((function(w){w&&0==w.returnCode?k(1):k(0)})).catch((function(w){k(0)}))}))},getAccountInfoByTicket:function(w,k){var T=k;return void 0!==k&&k||(T={metricKey:106083,platform:"Online",sceneType:"login",subSceneType:"getAccountInfoByTicket",isIncludeResp:"F"}),new Promise((function(k,C){A.default.getAccountInfoByTicketGateway(w,T).then((function(w){k(w)})).catch((function(w){C(w)}))}))},isGuest:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=arguments[1],T=k;return void 0!==k&&k||(T={metricKey:106083,platform:"Online",sceneType:"login",subSceneType:"isLogin",isIncludeResp:"F"}),new Promise((function(k,E){var S=C.default.getApiBaseUrl(),O=-1;A.default.getAccountInfoByTicket(S,w,T).then((function(w){w&&0==w.returnCode&&w.payload?(O="T"==w.payload.isNonUser?1:0,k(O)):k(O)})).catch((function(w){k(O)}))}))},getCrossDomainTikcet:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},k=arguments[1],T=k;return void 0!==k&&k||(T={metricKey:106083,platform:"Online",sceneType:"login",subSceneType:"getCrossDomainTikcet",isIncludeResp:"F"}),new Promise((function(k,E){var S=C.default.getApiBaseUrl();A.default.getCrossDomainTicket(S,w,T).then((function(w){w&&0==w.returnCode&&w.payload,k(w)})).catch((function(w){k(result)}))}))}}},,,function(w,k,T){"use strict";var C=T(40),A=T.n(C),E=T(4),S={getUbtJSUrl:function(){var w=new Date,k="?v=".concat(w.getFullYear()).concat(w.getMonth()).concat(w.getDate());return!E.a.isInMobile()||window.$_bf&&window.$_bf.loaded?window.$_bf&&window.$_bf.loaded||window.$LAB||window.CtripJsLoader?"":"//webresource.tripcdn.com/ares2/sysdev/ubt/*/default/_bfa.min.js".concat(k):"//webresource.tripcdn.com/ares2/sysdev/ubt/*/default/_mubt.min.js".concat(k)},getI18NUrl:function(){if(!(window.i18n_100015469||window.i18n_apps&&window.i18n_apps.i18n_100015469)){var w=A.a.getApiBaseUrl();return"".concat(w,"m/i18n/100015469/").concat(E.a.getLocale(),".js")}return""},getSliderUrl:function(){return window.jigsawVerification?"":"//webresource.tripcdn.com/ares2/infosec/jigsawCaptcha/~2.0.0/default/js/jigsaw-captcha.min.js"},getSignInWithAppJSUrl:function(){return E.a.isAmdEnv()||window.AppleID?"":"https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js"},getStrategy:function(){return{slide:this.getSliderUrl,shark:this.getI18NUrl,ubt:this.getUbtJSUrl,apple:this.getSignInWithAppJSUrl}},initScript:function(w){var k=this;if(!(w instanceof Array)||0===w.length)return Promise.resolve();for(var T,C,A=this.getStrategy(),E=[],S=0;S<w.length;S+=1)(T=w[S])&&"function"==typeof A[T]&&(C=A[T]())&&E.push(C);return 0===E.length?Promise.resolve():new Promise((function(w){k.multiLoad(E,w)}))},multiLoad:function(w,k){var T=w.length,C=0,i=function(){(C+=1)>=T&&"function"==typeof k&&k()};if(T)for(var A=0;A<T;A+=1){var E=w[A];this.loadScript(E,i)}else i()},loadScript:function(w,k){if(w){var T=document.createElement("script");T.type="text/javascript",T.async=!1,T.onload=k,T.charset="utf-8",T.src=w,document.getElementsByTagName("HEAD")[0].appendChild(T)}}};k.a=S},,,,,,,function(w,k){(function(k){w.exports=k}).call(this,{})},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),A=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return C(e,null,[{key:"setCookie",value:function(w,k,T,C,A,E){var S=T.toGMTString();document.cookie=w+"="+k+(S?"; expires="+S:"")+(C?"; path="+C:"")+(A?"; domain="+A:"")+(E?"; secure":"")}},{key:"getCookie",value:function(w){for(var k=document.cookie,T=w+"=",C=T.length,A=k.length,E=0;E<A;){var S=E+C;if(k.substring(E,S)===T)return this.getCookieVal(S);if(0===(E=k.indexOf(" ",E)+1))break}return null}},{key:"getCookieVal",value:function(w){var k=document.cookie.indexOf(";",w),T=void 0;-1===k&&(k=document.cookie.length);var C=unescape(document.cookie.substring(w,k));try{T=JSON.parse(C)}catch(w){T=C}return T}},{key:"remove",value:function(w,k,T){this.get(w)&&(document.cookie=w+"="+(k?"; path="+k:"")+(T?"; domain="+T:"")+"; expires=Thu, 01-Jan-1970 00:00:01 GMT")}}]),e}();k.default=A},function(w,k,T){const C=T(93);"undefined"!=typeof window&&(window.cargo=C),w.exports=C},,,,,,,,function(w,k){w.exports=function(w,k){(null==k||k>w.length)&&(k=w.length);for(var T=0,C=new Array(k);T<k;T++)C[T]=w[T];return C}},function(w,k,T){"use strict";var C,A;Object.defineProperty(k,"__esModule",{value:!0}),k.ThirdPartyConfig=k.ThirdPartyType=void 0,function(w){w.facebook="facebook",w.google="google",w.kakao="kakao",w.line="line",w.twitter="twitter",w.naver="naver",w.wechat="wechat",w.wechat_union="wechat_union",w.apple="apple",w.apple_trip="apple_trip"}(A=k.ThirdPartyType||(k.ThirdPartyType={})),k.ThirdPartyConfig=((C={})[A.facebook]={configId:"XTHYY69RNSKLFACEBOOKPCMASK"},C[A.google]={configId:"XTHYY69RNSKLGOOGLEPCMASK"},C[A.kakao]={configId:"XTHYY69RNSKLKAKAOPCMASK"},C[A.line]={defaultVersion:{configId:"XTHYY69RNSKLLINEPCMASK"},2.1:{configId:{defaultLocale:"XTHYY69RNSKLLINEPCMASKJP","th-th":"XTHYY69RNSKLLINEPCMASKTH","zh-tw":"XTHYY69RNSKLLINEPCMASKTW"}}},C[A.twitter]={configId:"XTHYY69RNSKLTWITTERPCMASK"},C[A.naver]={configId:"XTHYY69RNSKLNAVERPCMASK"},C[A.wechat]={configId:"XTHYY69RNSKLWEICHATIBUPC"},C[A.wechat_union]={configId:"XTHYY69RNSKLWEICHATIBUPC"},C[A.apple]={configId:"XTHYY69RNSKLAPPLETRIPPC"},C[A.apple_trip]={configId:"XTHYY69RNSKLAPPLETRIPPC"},C)},,,,,,,,,,,,function(w,k,T){var C=T(129),A=T(130),E=T(131),S=T(132);w.exports=function(w){return C(w)||A(w)||E(w)||S()}},function(w,k,T){"use strict";T.r(k);var C=T(8),A=T.n(C),E=T(9),S=T.n(E),O=T(11),R=T.n(O),P=T(29),I=T.n(P),L=T(30),x=T.n(L),B=T(22),D=T.n(B),j=T(83),F=T.n(j),q=T(1),V=T.n(q),G=(T(133),T(25)),W=T.n(G),K=T(43),z=T(26),X=T(31),Y=T(0),J=T(4),$=T(6),Z=T(15),Q=T(53),ee=T(28),te=T(3),ne=T(38),re=T(27);function M(w,k){var T=Object.keys(w);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(w);k&&(C=C.filter((function(k){return Object.getOwnPropertyDescriptor(w,k).enumerable}))),T.push.apply(T,C)}return T}function U(w){for(var k=1;k<arguments.length;k++){var T=null!=arguments[k]?arguments[k]:{};k%2?M(Object(T),!0).forEach((function(k){V()(w,k,T[k])})):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(T)):M(Object(T)).forEach((function(k){Object.defineProperty(w,k,Object.getOwnPropertyDescriptor(T,k))}))}return w}var ie=function(){function e(w,k,T){A()(this,e),this.type="",this.group="trip",this.thirdLoginType=te.c.other,this.originType=w,this.authorizeType="authcode",this.callback=T||function(){},this.strategy=k,this.isApple=!1,this.thirdParams={},this.theWholeProcessStartAt=null}return S()(e,[{key:"getThirdPartyVersion",value:function(w){return"line"===w?"2.1":""}},{key:"getThirdConfigID",value:function(){var w=this.type.toLowerCase(),k=J.a.getLocale(),T=this.getThirdPartyVersion(w);return K.ThirdPartyUtil.getConfigId(w,T,k)}},{key:"getThirdType",value:function(){switch(this.type){case $.d.apple:return"trip"===this.group?$.d.apple_trip:this.type;default:return this.type}}},{key:"getThirdBaseParams",value:function(){return{authorizeType:this.authorizeType,locale:J.a.getLocale(),thirdType:this.getThirdType(),group:this.group}}},{key:"logThirdPartyCallback",value:function(w,k){var T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",C={method:"thirdPartyCallback",stage:w||"",message:k};T&&(C.stack=T),Y.d.trace(C)}},{key:"thirdPartyCallback",value:function(w){var k=this;Y.d.logLoginMetric(Y.a.SUCCESS,{stage:te.a.AUTHENTICATE,scene:"".concat(this.metricScene,"_theWholeProcessTime")},this.theWholeProcessStartAt),Y.d.logDevTrace({type:"thirdPartyCallback",result:w}),Y.d.logTrace(te.b.trip_PClogin_thirdparty_authorize_result,{result:"success",thirdType:this.type});var T=w&&w.code?decodeURIComponent(w.code):"";this.loginStartAt=Date.now(),this.thirdLoginType=te.c.other,this.thirdAuthenticate(T).then((function(w){if(null!=w){k.callback({code:$.c.showCallback});var T=w.uid,C=w.emailInfo,A=w.token;if(T)return k.thirdLoginType=te.c.directLogin,void k.directLogin(A,!1);C&&C.email&&C.isVerifyed?(k.thirdLoginType=te.c.verifiedEmailRegisterAndLogin,C.isBindUid&&C.isBindedOpenId?k.directLogin(A,!0):k.bindAndLoginWithVerifiedEmail(A,C.isBindUid)):(Y.d.logLoginMetric(Y.a.FAILED,{scene:k.metricScene,stage:te.a.THIRDPARTY_CALLBACK,code:$.c.bindWithNotVerifiedEmail},k.loginStartAt),k.callback({code:$.c.bindWithNotVerifiedEmail,params:U({token:A,thirdType:k.type},C||{})}))}})).catch((function(w){Y.d.logTrace(te.b.trip_PClogin_thirdparty_result,{result:"fail",type:k.thirdLoginType,thirdType:k.type,errorService:"thirdAuthenticate"}),k.logThirdPartyCallback("thirdPartyCallback catch",w.message,w.stack),k.callback({code:$.c.fatal,message:w.message}),Y.d.logLoginMetric(Y.a.FAILED,{scene:k.metricScene,stage:te.a.THIRDPARTY_CALLBACK,code:$.c.fatal},k.loginStartAt)}))}},{key:"thirdAuthenticate",value:function(w){var k=this,T=U(U({},this.getThirdBaseParams()),{},{thirdConfigCode:this.getThirdConfigID(),authCode:w});return this.isApple&&(T.redirectUri=this.buildAppleCallbackUrl()),W.a.authenticate(T).then((function(w){var T,C;return w&&0===w.returncode?(T=w,C="success"):(T=null,C="authenticate service response invalid"),k.logThirdPartyCallback("authenticate",C),null==T&&(k.callback({code:$.c.authenticateFailed,message:C,showMessage:w&&w.showMessage?w.showMessage:""}),Y.d.logTrace(te.b.trip_PClogin_thirdparty_result,{result:"fail",type:k.thirdLoginType,thirdType:k.type,errorService:"authenticate"}),Y.d.logLoginMetric(Y.a.FAILED,{scene:k.metricScene,stage:te.a.THIRDPARTY_CALLBACK,code:w.returncode||$.c.authenticateFailed},k.loginStartAt)),T}))}},{key:"directLogin",value:function(w,k){var T=this,C={accessCode:Z.a.tpLoginAccessCode,strategyCode:Z.a.tpDirectLoginStrategyCode,token:w,autoRegister:k,locale:J.a.getLocale(),platform:X.a.toUpperCase(this.originType),sourceId:this.thirdParams.sourceId,referCode:this.thirdParams.referCode},A={metricKey:Y.d.metricKey,platform:X.a.capitalize(this.originType),sceneType:"thirdpartlogin",subSceneType:"directLoginThirdpart"};return W.a.thirdPartLogin(C,A).then((function(w){var C,A;w&&0===w.returncode?(C="success",A=$.c.thirdPartLoginSuccess,Y.d.logTrace(te.b.trip_PClogin_thirdparty_result,{result:"success",type:T.thirdLoginType,thirdType:T.type}),Y.d.logLoginMetric(Y.a.SUCCESS,{scene:T.metricScene,stage:te.a.DIRECT_LOGIN},T.loginStartAt),Y.d.logLoginMetric(Y.a.SUCCESS,{scene:"".concat(T.metricScene,"_theWholeProcessTime"),stage:te.a.DIRECT_LOGIN},T.theWholeProcessStartAt),Object(ee.a)(w)&&T.callback({code:$.c.registerCallback})):(C="thirdPartLogin service response invalid",A=$.c.thirdPartLoginSuccess,Y.d.logTrace(te.b.trip_PClogin_thirdparty_result,{result:"fail",type:T.thirdLoginType,thirdType:T.type,errorService:k?"thirdPartLoginWithRegister":"thirdPartLogin"}),Y.d.logLoginMetric(Y.a.FAILED,{scene:T.metricScene,stage:te.a.DIRECT_LOGIN,code:$.c.thirdPartLoginFailed},T.loginStartAt)),T.logThirdPartyCallback("thirdPartLogin",C),T.callback({code:A,message:C,showMessage:w&&w.showMessage?w.showMessage:""})}))}},{key:"bindAndLoginWithVerifiedEmail",value:function(w,k){var T=this,C={accessCode:Z.a.tpLoginAccessCode,strategyCode:Z.a.tpBindAndLoginStrategyCode,thirdToken:w,autoRegister:!k,locale:J.a.getLocale(),platform:X.a.capitalize(this.originType),group:this.group,sourceId:this.thirdParams.sourceId,referCode:this.thirdParams.referCode},A={metricKey:Y.d.metricKey,platform:X.a.capitalize(this.originType),sceneType:"thirdpartlogin",subSceneType:"bindThirdpartAndLogin"};return W.a.thirdPartBindAndLogin(C,A).then((function(w){var k,C;w&&0===w.returncode?(k="success",C=$.c.bindAndLoginWithVerifiedEmailSuccess,Y.d.logTrace(te.b.trip_PClogin_thirdparty_result,{result:"success",thirdType:T.type,type:T.thirdLoginType}),Y.d.logLoginMetric(Y.a.SUCCESS,{scene:T.metricScene,stage:te.a.BINDANDLOGIN_WITH_VERIFYED_EMAIL},T.loginStartAt),Y.d.logLoginMetric(Y.a.SUCCESS,{scene:"".concat(T.metricScene,"_theWholeProcessTime"),stage:te.a.BINDANDLOGIN_WITH_VERIFYED_EMAIL},T.theWholeProcessStartAt),Object(ee.a)(w)&&T.callback({code:$.c.registerCallback})):(k="thirdPartBindAndLogin service response invalid",C=$.c.bindAndLoginWithVerifiedEmailFailed,Y.d.logTrace(te.b.trip_PClogin_thirdparty_result,{result:"fail",thirdType:T.type,type:T.thirdLoginType,errorService:"thirdPartBindAndLogin"}),Y.d.logLoginMetric(Y.a.FAILED,{scene:T.metricScene,stage:te.a.BINDANDLOGIN_WITH_VERIFYED_EMAIL,code:C},T.loginStartAt)),T.logThirdPartyCallback("bindAndLoginWithVerifiedEmail",k),T.callback({code:C,message:k,showMessage:w&&w.showMessage?w.showMessage:""})}))}},{key:"checkIsAppleThirdParty",value:function(w){return[$.d.apple_trip,$.d.apple].indexOf(w)>-1}},{key:"buildAppleCallbackUrl",value:function(){var w=window.location.origin;return"".concat(w,"/passport/thirdpart/applecallback")}},{key:"authenticateForApple",value:function(){var w=this;try{window.AppleID.auth.init(U(U({},$.a),{},{redirectURI:this.buildAppleCallbackUrl()})),window.AppleID.auth.signIn().then((function(k){Y.d.trace({Method:"AbstractThirdParty.authenticateForApple",Stage:"AppleID.auth.signIn resolve",Info:k||{}});var T=k&&k.authorization&&k.authorization.code?k.authorization.code:"";w.thirdPartyCallback({code:T})})).catch((function(w){Y.d.trace({Method:"AbstractThirdParty.authenticateForApple",Stage:"AppleID.auth.signIn reject",ErrMsg:w.message,ErrStack:w.stack})}))}catch(w){Y.d.trace({Method:"AbstractThirdParty.authenticateForApple",Stage:"catch",ErrMsg:w.message,ErrStack:w.stack})}}},{key:"jumpToThirdPartyPage",value:function(){throw new Error("please implements this method")}},{key:"authenticate",value:function(w){var k=this,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Y.c.setSourceFrom(T.sourceFrom||"notapi"),this.isApple=this.checkIsAppleThirdParty(w);var C=[].concat(F()(this.strategy),[this.isApple?"apple":""]),A=T.moduleName,E=void 0===A?"":A;re.a.setSDKStatus({moduleName:E,sdkVersion:ne.a}),Q.a.initScript(C).then((function(){Y.d.metricOperation({platform:X.a.capitalize(k.originType),sceneType:"thirdpartlogin",subSceneType:w}),k.type=w,k.thirdParams=T,k.theWholeProcessStartAt=Date.now(),k.metricScene="".concat(z.BusinessScenarioScene.thirdLogin,"_").concat(w),!J.a.isAmdEnv()&&k.isApple?k.authenticateForApple():(window.entryInstance=k,k.jumpToThirdPartyPage())}))}}]),e}(),oe=T(18),ae=function(w){I()(n,w);var k=function H(w){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(w){return!1}}();return function(){var T,C=D()(w);if(k){var A=D()(this).constructor;T=Reflect.construct(C,arguments,A)}else T=C.apply(this,arguments);return x()(this,T)}}(n);function n(w){var T;return A()(this,n),(T=k.call(this,"h5",["ubt","slide"],w)).rollAskInterval=null,T.isPostMsgListen=!1,T.bindPostMsgFun=T.bindPostMsgFun.bind(R()(T)),T}return S()(n,[{key:"bindPostMsgFun",value:function(w){var k=w.data;if(Y.d.trace({action:"bindPostFun",result:JSON.stringify(JSON.stringify(w))}),k&&k.tpSignalCode){var T=k.tpSignalCode,C=(void 0===T?"":T).toUpperCase();("TRIP"===C||"CTRIP"===C)&&(clearInterval(this.rollAskInterval),Object.assign(k,{type:this.type}),this.thirdPartyCallback(k)),window.removeEventListener("message",this.bindPostMsgFun),this.isPostMsgListen=!1}}},{key:"getThirdPartyUrl",value:function(){var w="https://www.fat1.qa.nt.tripqate.com",k="https://www.trip.com",T=J.a.getEnv(),C={fat:{url:"".concat(w,"/passport/thirdpart/").concat(this.type,"callback?loginpage=1&origintype=h5"),origin:"apple"===this.type?k:w},pro:{url:"".concat(k,"/passport/thirdpart/").concat(this.type,"callback?loginpage=1&origintype=h5"),origin:k}};return"dev"===T||"uat"===T?C.fat:C[T]}},{key:"jump",value:function(){var w=this.type;Y.d.trace({source:w});var k=this.getThirdPartyUrl(),T=k.url||"",C=k.origin||"",A=encodeURIComponent(window.location.href),E=J.a.isInWebView();if(Y.d.trace({isInWebView:E,ua:navigator.userAgent}),"line"===w||E)window.location.href="https://".concat(window.location.host,"/m/passport/thirdpart/thirdpartcallback?loginpage=1&callBackUrl=").concat(A,"&thirdtype=").concat(w);else{var S=window.open(T),O=null===S,R=oe.a.getQueryString("select");Y.d.trace({childWin:String(S),isWind:O}),O||"2"===R?window.location.href="https://".concat(window.location.host,"/m/passport/thirdpart/thirdpartcallback?loginpage=1&callBackUrl=").concat(A,"&thirdtype=").concat(w):(this.rollAskInterval=setInterval((function(){S.postMessage("",C)}),50),this.isPostMsgListen||(window.addEventListener("message",this.bindPostMsgFun),this.isPostMsgListen=!0))}}},{key:"jumpToThirdPartyPage",value:function(){this.jump()}}]),n}(ie),ce=function(w){I()(n,w);var k=function N(w){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(w){return!1}}();return function(){var T,C=D()(w);if(k){var A=D()(this).constructor;T=Reflect.construct(C,arguments,A)}else T=C.apply(this,arguments);return x()(this,T)}}(n);function n(w){return A()(this,n),k.call(this,"online",["ubt"],w)}return S()(n,[{key:"getThirdPartUrl",value:function(w){var k="dev"===J.a.getEnv()?"http:":"https:",T=encodeURIComponent("".concat(k,"//").concat(document.domain)),C=["loginpage=1","callbackurl=".concat(T),"origintype=".concat(this.originType),"originlocale=".concat(J.a.getLocale()),"originversion=".concat(this.getThirdPartyVersion(w))].join("&");return"".concat(k,"//").concat(document.domain,"/passport/thirdpart/").concat(w,"callback?").concat(C)}},{key:"jumpToThirdPartyPage",value:function(){var w=this.getThirdPartUrl(this.type);window.open(w,"_blank","menubar=1, resizable=1, width=600, height=555")}}]),n}(ie),se=J.a.isInMobile()?ae:ce;k.default=se},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C={modern:{fat:[{serviceDomain:"https://www.fat1.qa.nt.tripqate.com/",cookieDomain:"tripqate.com"}],uat:[{serviceDomain:"https://www.uat.tripqate.com/",cookieDomain:"tripqate.com"}],pro:[{serviceDomain:"https://www.trip.com/",cookieDomain:"trip.com"}]},legacy:{fat:[{serviceDomain:"https://www.fat1.qa.nt.tripcorp.com/",cookieDomain:"tripcorp.com"},{serviceDomain:"https://www.fat1.qa.nt.tripcorp.com/",cookieDomain:"qa.nt.tripcorp.com"}],uat:[{serviceDomain:"https://www.uat.tripcorp.com/",cookieDomain:"tripcorp.com"}],pro:[{serviceDomain:"https://www.trip.com/",cookieDomain:"trip.com"}]}},A={modern:{dev:"https://www.fat1.qa.nt.tripqate.com/",fat:"https://www.fat1.qa.nt.tripqate.com/",uat:"https://www.uat.tripqate.com/",pro:"https://www.trip.com/"},legacy:{dev:"https://www.fat1.qa.nt.tripcorp.com/",fat:"https://www.fat1.qa.nt.tripcorp.com/",uat:"https://www.uat.tripcorp.com/",pro:"https://www.trip.com/"}};function o(){var w="modern";return window.location.host.match(/\.tripcorp\.com/)&&(w="legacy"),w}var a=function(){var w="pro",k=window.location.host;return(k.indexOf("localhost")>-1||k.indexOf("127.0.0.1")>-1||k.indexOf("dev")>-1)&&(w="dev"),(k.indexOf("fat")>-1||k.indexOf("fws")>-1)&&(w="fat"),k.indexOf("uat")>-1&&(w="uat"),w},E={getEnv:a,getGatewayBaseUrl:function(){var w=a();return"dev"===w||"fat"===w?"https://www.fat1.qa.nt.tripqate.com":"uat"===w?"https://www.uat.tripqate.com":"https://"+window.location.host},getApiBaseUrl:function(){var w=a();return A[o()][w]},getAuthDomain:function(){var w=a();return"dev"===w&&(w="fat"),C[o()][w]},getCompatibleDomainType:o,compatibleEnv2ApiBaseUrlMap:A,compatibleEnv2AuthDomainMap:C};k.default=E},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C,A=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}();(C=T(44))&&C.__esModule;var E=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return A(e,null,[{key:"metric",value:function(w,k){try{void 0===window.__bfi&&(window.__bfi=[]),__bfi.push(["_trackMetric",{name:w,value:1,tag:k}])}catch(w){}}},{key:"trace",value:function(w,k){var T=JSON.stringify(k);try{void 0===window.__bfi&&(window.__bfi=[]),__bfi.push(["_tracklog",w,T])}catch(w){}}}]),e}();k.default=E},function(module,exports,__nested_webpack_require_53812__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__nested_webpack_require_53812__(60),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(w){return"[object Array]"===Object.prototype.toString.call(w)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(w){return"object"==typeof w&&w.buffer&&w.buffer.constructor===ArrayBuffer});var createOutputMethod=function(w){return function(k){return new Md5(!0).update(k)[w]()}},createMethod=function(){var w=createOutputMethod("hex");NODE_JS&&(w=nodeWrap(w)),w.create=function(){return new Md5},w.update=function(k){return w.create().update(k)};for(var k=0;k<OUTPUT_TYPES.length;++k){var T=OUTPUT_TYPES[k];w[T]=createOutputMethod(T)}return w},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(w){if("string"==typeof w)return crypto.createHash("md5").update(w,"utf8").digest("hex");if(null==w)throw ERROR;return w.constructor===ArrayBuffer&&(w=new Uint8Array(w)),Array.isArray(w)||ArrayBuffer.isView(w)||w.constructor===Buffer?crypto.createHash("md5").update(new Buffer(w)).digest("hex"):method(w)};return nodeMethod};function Md5(w){if(w)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var k=new ArrayBuffer(68);this.buffer8=new Uint8Array(k),this.blocks=new Uint32Array(k)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(w){if(!this.finalized){var k,T=typeof w;if("string"!==T){if("object"!==T)throw ERROR;if(null===w)throw ERROR;if(ARRAY_BUFFER&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!(Array.isArray(w)||ARRAY_BUFFER&&ArrayBuffer.isView(w)))throw ERROR;k=!0}for(var C,A,E=0,S=w.length,O=this.blocks,R=this.buffer8;E<S;){if(this.hashed&&(this.hashed=!1,O[0]=O[16],O[16]=O[1]=O[2]=O[3]=O[4]=O[5]=O[6]=O[7]=O[8]=O[9]=O[10]=O[11]=O[12]=O[13]=O[14]=O[15]=0),k)if(ARRAY_BUFFER)for(A=this.start;E<S&&A<64;++E)R[A++]=w[E];else for(A=this.start;E<S&&A<64;++E)O[A>>2]|=w[E]<<SHIFT[3&A++];else if(ARRAY_BUFFER)for(A=this.start;E<S&&A<64;++E)(C=w.charCodeAt(E))<128?R[A++]=C:C<2048?(R[A++]=192|C>>6,R[A++]=128|63&C):C<55296||C>=57344?(R[A++]=224|C>>12,R[A++]=128|C>>6&63,R[A++]=128|63&C):(C=65536+((1023&C)<<10|1023&w.charCodeAt(++E)),R[A++]=240|C>>18,R[A++]=128|C>>12&63,R[A++]=128|C>>6&63,R[A++]=128|63&C);else for(A=this.start;E<S&&A<64;++E)(C=w.charCodeAt(E))<128?O[A>>2]|=C<<SHIFT[3&A++]:C<2048?(O[A>>2]|=(192|C>>6)<<SHIFT[3&A++],O[A>>2]|=(128|63&C)<<SHIFT[3&A++]):C<55296||C>=57344?(O[A>>2]|=(224|C>>12)<<SHIFT[3&A++],O[A>>2]|=(128|C>>6&63)<<SHIFT[3&A++],O[A>>2]|=(128|63&C)<<SHIFT[3&A++]):(C=65536+((1023&C)<<10|1023&w.charCodeAt(++E)),O[A>>2]|=(240|C>>18)<<SHIFT[3&A++],O[A>>2]|=(128|C>>12&63)<<SHIFT[3&A++],O[A>>2]|=(128|C>>6&63)<<SHIFT[3&A++],O[A>>2]|=(128|63&C)<<SHIFT[3&A++]);this.lastByteIndex=A,this.bytes+=A-this.start,A>=64?(this.start=A-64,this.hash(),this.hashed=!0):this.start=A}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var w=this.blocks,k=this.lastByteIndex;w[k>>2]|=EXTRA[3&k],k>=56&&(this.hashed||this.hash(),w[0]=w[16],w[16]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=w[10]=w[11]=w[12]=w[13]=w[14]=w[15]=0),w[14]=this.bytes<<3,w[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var w,k,T,C,A,E,S=this.blocks;this.first?k=((k=((w=((w=S[0]-680876937)<<7|w>>>25)-271733879<<0)^(T=((T=(-271733879^(C=((C=(-1732584194^2004318071&w)+S[1]-117830708)<<12|C>>>20)+w<<0)&(-271733879^w))+S[2]-1126478375)<<17|T>>>15)+C<<0)&(C^w))+S[3]-1316259209)<<22|k>>>10)+T<<0:(w=this.h0,k=this.h1,T=this.h2,k=((k+=((w=((w+=((C=this.h3)^k&(T^C))+S[0]-680876936)<<7|w>>>25)+k<<0)^(T=((T+=(k^(C=((C+=(T^w&(k^T))+S[1]-389564586)<<12|C>>>20)+w<<0)&(w^k))+S[2]+606105819)<<17|T>>>15)+C<<0)&(C^w))+S[3]-1044525330)<<22|k>>>10)+T<<0),k=((k+=((w=((w+=(C^k&(T^C))+S[4]-176418897)<<7|w>>>25)+k<<0)^(T=((T+=(k^(C=((C+=(T^w&(k^T))+S[5]+1200080426)<<12|C>>>20)+w<<0)&(w^k))+S[6]-1473231341)<<17|T>>>15)+C<<0)&(C^w))+S[7]-45705983)<<22|k>>>10)+T<<0,k=((k+=((w=((w+=(C^k&(T^C))+S[8]+1770035416)<<7|w>>>25)+k<<0)^(T=((T+=(k^(C=((C+=(T^w&(k^T))+S[9]-1958414417)<<12|C>>>20)+w<<0)&(w^k))+S[10]-42063)<<17|T>>>15)+C<<0)&(C^w))+S[11]-1990404162)<<22|k>>>10)+T<<0,k=((k+=((w=((w+=(C^k&(T^C))+S[12]+1804603682)<<7|w>>>25)+k<<0)^(T=((T+=(k^(C=((C+=(T^w&(k^T))+S[13]-40341101)<<12|C>>>20)+w<<0)&(w^k))+S[14]-1502002290)<<17|T>>>15)+C<<0)&(C^w))+S[15]+1236535329)<<22|k>>>10)+T<<0,k=((k+=((C=((C+=(k^T&((w=((w+=(T^C&(k^T))+S[1]-165796510)<<5|w>>>27)+k<<0)^k))+S[6]-1069501632)<<9|C>>>23)+w<<0)^w&((T=((T+=(w^k&(C^w))+S[11]+643717713)<<14|T>>>18)+C<<0)^C))+S[0]-373897302)<<20|k>>>12)+T<<0,k=((k+=((C=((C+=(k^T&((w=((w+=(T^C&(k^T))+S[5]-701558691)<<5|w>>>27)+k<<0)^k))+S[10]+38016083)<<9|C>>>23)+w<<0)^w&((T=((T+=(w^k&(C^w))+S[15]-660478335)<<14|T>>>18)+C<<0)^C))+S[4]-405537848)<<20|k>>>12)+T<<0,k=((k+=((C=((C+=(k^T&((w=((w+=(T^C&(k^T))+S[9]+568446438)<<5|w>>>27)+k<<0)^k))+S[14]-1019803690)<<9|C>>>23)+w<<0)^w&((T=((T+=(w^k&(C^w))+S[3]-187363961)<<14|T>>>18)+C<<0)^C))+S[8]+1163531501)<<20|k>>>12)+T<<0,k=((k+=((C=((C+=(k^T&((w=((w+=(T^C&(k^T))+S[13]-1444681467)<<5|w>>>27)+k<<0)^k))+S[2]-51403784)<<9|C>>>23)+w<<0)^w&((T=((T+=(w^k&(C^w))+S[7]+1735328473)<<14|T>>>18)+C<<0)^C))+S[12]-1926607734)<<20|k>>>12)+T<<0,k=((k+=((E=(C=((C+=((A=k^T)^(w=((w+=(A^C)+S[5]-378558)<<4|w>>>28)+k<<0))+S[8]-2022574463)<<11|C>>>21)+w<<0)^w)^(T=((T+=(E^k)+S[11]+1839030562)<<16|T>>>16)+C<<0))+S[14]-35309556)<<23|k>>>9)+T<<0,k=((k+=((E=(C=((C+=((A=k^T)^(w=((w+=(A^C)+S[1]-1530992060)<<4|w>>>28)+k<<0))+S[4]+1272893353)<<11|C>>>21)+w<<0)^w)^(T=((T+=(E^k)+S[7]-155497632)<<16|T>>>16)+C<<0))+S[10]-1094730640)<<23|k>>>9)+T<<0,k=((k+=((E=(C=((C+=((A=k^T)^(w=((w+=(A^C)+S[13]+681279174)<<4|w>>>28)+k<<0))+S[0]-358537222)<<11|C>>>21)+w<<0)^w)^(T=((T+=(E^k)+S[3]-722521979)<<16|T>>>16)+C<<0))+S[6]+76029189)<<23|k>>>9)+T<<0,k=((k+=((E=(C=((C+=((A=k^T)^(w=((w+=(A^C)+S[9]-640364487)<<4|w>>>28)+k<<0))+S[12]-421815835)<<11|C>>>21)+w<<0)^w)^(T=((T+=(E^k)+S[15]+530742520)<<16|T>>>16)+C<<0))+S[2]-995338651)<<23|k>>>9)+T<<0,k=((k+=((C=((C+=(k^((w=((w+=(T^(k|~C))+S[0]-198630844)<<6|w>>>26)+k<<0)|~T))+S[7]+1126891415)<<10|C>>>22)+w<<0)^((T=((T+=(w^(C|~k))+S[14]-1416354905)<<15|T>>>17)+C<<0)|~w))+S[5]-57434055)<<21|k>>>11)+T<<0,k=((k+=((C=((C+=(k^((w=((w+=(T^(k|~C))+S[12]+1700485571)<<6|w>>>26)+k<<0)|~T))+S[3]-1894986606)<<10|C>>>22)+w<<0)^((T=((T+=(w^(C|~k))+S[10]-1051523)<<15|T>>>17)+C<<0)|~w))+S[1]-2054922799)<<21|k>>>11)+T<<0,k=((k+=((C=((C+=(k^((w=((w+=(T^(k|~C))+S[8]+1873313359)<<6|w>>>26)+k<<0)|~T))+S[15]-30611744)<<10|C>>>22)+w<<0)^((T=((T+=(w^(C|~k))+S[6]-1560198380)<<15|T>>>17)+C<<0)|~w))+S[13]+1309151649)<<21|k>>>11)+T<<0,k=((k+=((C=((C+=(k^((w=((w+=(T^(k|~C))+S[4]-145523070)<<6|w>>>26)+k<<0)|~T))+S[11]-1120210379)<<10|C>>>22)+w<<0)^((T=((T+=(w^(C|~k))+S[2]+718787259)<<15|T>>>17)+C<<0)|~w))+S[9]-343485551)<<21|k>>>11)+T<<0,this.first?(this.h0=w+1732584193<<0,this.h1=k-271733879<<0,this.h2=T-1732584194<<0,this.h3=C+271733878<<0,this.first=!1):(this.h0=this.h0+w<<0,this.h1=this.h1+k<<0,this.h2=this.h2+T<<0,this.h3=this.h3+C<<0)},Md5.prototype.hex=function(){this.finalize();var w=this.h0,k=this.h1,T=this.h2,C=this.h3;return HEX_CHARS[w>>4&15]+HEX_CHARS[15&w]+HEX_CHARS[w>>12&15]+HEX_CHARS[w>>8&15]+HEX_CHARS[w>>20&15]+HEX_CHARS[w>>16&15]+HEX_CHARS[w>>28&15]+HEX_CHARS[w>>24&15]+HEX_CHARS[k>>4&15]+HEX_CHARS[15&k]+HEX_CHARS[k>>12&15]+HEX_CHARS[k>>8&15]+HEX_CHARS[k>>20&15]+HEX_CHARS[k>>16&15]+HEX_CHARS[k>>28&15]+HEX_CHARS[k>>24&15]+HEX_CHARS[T>>4&15]+HEX_CHARS[15&T]+HEX_CHARS[T>>12&15]+HEX_CHARS[T>>8&15]+HEX_CHARS[T>>20&15]+HEX_CHARS[T>>16&15]+HEX_CHARS[T>>28&15]+HEX_CHARS[T>>24&15]+HEX_CHARS[C>>4&15]+HEX_CHARS[15&C]+HEX_CHARS[C>>12&15]+HEX_CHARS[C>>8&15]+HEX_CHARS[C>>20&15]+HEX_CHARS[C>>16&15]+HEX_CHARS[C>>28&15]+HEX_CHARS[C>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var w=this.h0,k=this.h1,T=this.h2,C=this.h3;return[255&w,w>>8&255,w>>16&255,w>>24&255,255&k,k>>8&255,k>>16&255,k>>24&255,255&T,T>>8&255,T>>16&255,T>>24&255,255&C,C>>8&255,C>>16&255,C>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var w=new ArrayBuffer(16),k=new Uint32Array(w);return k[0]=this.h0,k[1]=this.h1,k[2]=this.h2,k[3]=this.h3,w},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var w,k,T,C="",A=this.array(),E=0;E<15;)w=A[E++],k=A[E++],T=A[E++],C+=BASE64_ENCODE_CHAR[w>>>2]+BASE64_ENCODE_CHAR[63&(w<<4|k>>>4)]+BASE64_ENCODE_CHAR[63&(k<<2|T>>>6)]+BASE64_ENCODE_CHAR[63&T];return w=A[E],C+(BASE64_ENCODE_CHAR[w>>>2]+BASE64_ENCODE_CHAR[w<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__nested_webpack_require_53812__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__nested_webpack_require_53812__(88),__nested_webpack_require_53812__(89))},function(w,k){var T,C,A=w.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(w){if(T===setTimeout)return setTimeout(w,0);if((T===o||!T)&&setTimeout)return T=setTimeout,setTimeout(w,0);try{return T(w,0)}catch(k){try{return T.call(null,w,0)}catch(k){return T.call(this,w,0)}}}!function(){try{T="function"==typeof setTimeout?setTimeout:o}catch(w){T=o}try{C="function"==typeof clearTimeout?clearTimeout:a}catch(w){C=a}}();var E,S=[],O=!1,R=-1;function f(){O&&E&&(O=!1,E.length?S=E.concat(S):R=-1,S.length&&p())}function p(){if(!O){var w=c(f);O=!0;for(var k=S.length;k;){for(E=S,S=[];++R<k;)E&&E[R].run();R=-1,k=S.length}E=null,O=!1,function(w){if(C===clearTimeout)return clearTimeout(w);if((C===a||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(w);try{C(w)}catch(k){try{return C.call(null,w)}catch(k){return C.call(this,w)}}}(w)}}function h(w,k){this.fun=w,this.array=k}function g(){}A.nextTick=function(w){var k=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)k[T-1]=arguments[T];S.push(new h(w,k)),1!==S.length||O||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},A.title="browser",A.browser=!0,A.env={},A.argv=[],A.version="",A.versions={},A.on=g,A.addListener=g,A.once=g,A.off=g,A.removeListener=g,A.removeAllListeners=g,A.emit=g,A.prependListener=g,A.prependOnceListener=g,A.listeners=function(w){return[]},A.binding=function(w){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(w){throw new Error("process.chdir is not supported")},A.umask=function(){return 0}},function(w,k){var T;T=function(){return this}();try{T=T||new Function("return this")()}catch(w){"object"==typeof window&&(T=window)}w.exports=T},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C,A=function(){function e(w,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}return function(w,k,T){return k&&e(w.prototype,k),T&&e(w,T),w}}(),E=(C=T(44))&&C.__esModule?C:{default:C},S=function(){function e(){!function(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}(this,e)}return A(e,null,[{key:"getCommonData",value:function(){return{duid:E.default.getCookie("DUID"),url:window.location.href,rmsToken:E.default.getRmsToken()}}}]),e}();k.default=S},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=o(T(17)),A=o(T(16));function o(w){return w&&w.__esModule?w:{default:w}}var E=C.default.getApiUrlConfig();k.default={writeTicket:function(w,k,T){return new Promise((function(C,S){A.default.sendApiRequest(w+E.writeI18nTicketUrl,k,T).then((function(w){C(w)})).catch((function(w){S(w)}))}))},isLogin:function(w,k,T){return new Promise((function(C,S){A.default.sendApiRequest(w+E.isLoginUrl,k,T).then((function(w){C(w)})).catch((function(w){S(w)}))}))},logOut:function(w,k,T){return new Promise((function(C,S){A.default.sendApiRequest(w+E.logOutUrl,k,T).then((function(w){C(w)})).catch((function(w){S(w)}))}))},getAccountInfoByTicket:function(w,k,T){return new Promise((function(C,S){A.default.sendApiRequest(w+E.getAccountInfoByTicketUrl,k,T).then((function(w){C(w)})).catch((function(w){S(w)}))}))},getAccountInfoByTicketGateway:function(w,k){return new Promise((function(T,C){A.default.sendGatewayRequest(E.getAccountInfoByTicketGatewayUrl,w,k).then((function(w){T(w)})).catch((function(w){C(w)}))}))},getCrossDomainTicket:function(w,k,T){return new Promise((function(C,S){A.default.sendApiRequest(w+E.getTicketUrl,k,T).then((function(w){C(w)})).catch((function(w){S(w)}))}))}}},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=Object.assign||function(w){for(var k=1;k<arguments.length;k++){var T=arguments[k];for(var C in T)Object.prototype.hasOwnProperty.call(T,C)&&(w[C]=T[C])}return w},A=a(T(16)),E=a(T(14));function a(w){return w&&w.__esModule?w:{default:w}}var S=T(49).UrlConfig.getApiUrlConfig();k.default={authenticate:function(w,k){return new Promise((function(T,O){var R={};R.AccountHead={Locale:w.locale};var P=E.default.getContextOrExtMap(w);w.redirectUri&&(P.redirectUri=w.redirectUri),R.Data={accessToken:w.accessToken,authCode:w.authCode,thirdType:w.thirdType,thirdConfigCode:w.thirdConfigCode,context:P,accountHead:C({},E.default.getReqCommonDataAccountHead(w))};var I="authcode"==w.authorizeType?S.authenticateUrl:S.authenticateByAccessTokenUrl;A.default.sendGatewayRequest(I,R,k).then((function(w){T(w)})).catch((function(w){O(w)}))}))},thirdPartLogin:function(w,k){return new Promise((function(T,O){var R={};R.AccountHead={Locale:w.locale};var P=E.default.getContextOrExtMap(w);R.Data={strategyCode:w.strategyCode,token:w.token,autoRegister:w.autoRegister,context:P||{},accountHead:C({accessCode:w.accessCode},E.default.getReqCommonDataAccountHead(w))},A.default.sendGatewayRequest(S.thirdPartyLoginUrl,R,k).then((function(w){T(w)})).catch((function(w){O(w)}))}))},thirdPartBindAndLogin:function(w,k){return new Promise((function(T,O){var R={};R.AccountHead={Locale:w.locale};var P=E.default.getContextOrExtMap(w);R.Data={strategyCode:w.strategyCode,thirdToken:w.thirdToken,validateToken:w.validateToken,autoRegister:w.autoRegister,userName:w.userName,pwd:w.pwd,context:P||{},accountHead:C({accessCode:w.accessCode},E.default.getReqCommonDataAccountHead(w))},A.default.sendGatewayRequest(S.thirdPartyBindAndLoginUrl,R,k).then((function(w){T(w)})).catch((function(w){O(w)}))}))},getThirdPartInfoByThirdToken:function(w,k){return new Promise((function(T,O){var R={};R.AccountHead={Locale:w.locale},R.Data={token:w.token,accountHead:C({},E.default.getReqCommonDataAccountHead(w))},A.default.sendGatewayRequest(S.getThirdPartInfoByThirdTokenUrl,R,k).then((function(w){T(w)})).catch((function(w){O(w)}))}))}}},function(w,k){const T={HTML_DATA_ATTRIBUTE_NAME:"data-cargo",H5:"h5",ONLINE:"online",PADS:["ipad","playbook","tablet"],MOBILES:["mobile","iphone","android","phone","wap","opera","opera mini","ucweb","windows ce","symbian","series","webos","sony","blackberry","dopod","nokia","samsung","palmsource","meizu","midp","cldc","motorola"]},C="locale",A="language",E="currency",S="site",O="group",R="contextType",u=function(w){const k={};return(window.document.getElementsByTagName("html")[0].getAttribute(T.HTML_DATA_ATTRIBUTE_NAME)||"").split(",").forEach((w=>{const T=w.split(":");2===T.length&&(k[T[0]]=T[1])})),w?k[w]||"":k},l=function(w,k){if(w&&k){const C=u();C[w]=k,window.document.getElementsByTagName("html")[0].setAttribute(T.HTML_DATA_ATTRIBUTE_NAME,Object.entries(C).map((w=>w.join(":"))).join())}},d=function(w){let k="";return w&&(k=("; "+window.document.cookie).split(`; ${w}=`).pop().split(";")[0]),k},f=function(w){const k=w||u(R);return k?k.toLowerCase()===T.H5:function(){const w=(window.navigator.userAgent||"").toLowerCase();return w?!T.MOBILES.some((k=>-1!==w.indexOf(k)))||T.PADS.some((k=>-1!==w.indexOf(k)))||/android/.test(w)&&!/mobile/.test(w)?T.ONLINE:T.H5:T.ONLINE}()===T.H5||"m"===window.location.pathname.split("/")[1]},p=function(w){if(/^[a-z]{2}(-|_)[a-z]{2}$/i.test(w)){const k=w.match(/[a-z]{2}/gi);return`${k[0].toLowerCase()}-${k[1].toUpperCase()}`}};w.exports={getLocale:function(w){let k=p(u(C));return k||(k=p(window.document.getElementsByTagName("html")[0].getAttribute("lang"))),k||(k=f(w)?p(d("ibu_h5_local")):p(d("ibulocale")||d("ibu_h5_local"))),k||""},setLocale:function(w){const k=p(w);k&&l(C,k)},getLanguage:function(w){let k=u(A);return k||(k=f(w)?d("ibu_h5_lang"):d("ibulanguage")),(k||"").toLowerCase()},setLanguage:function(w){w&&/^([a-z]{2}){1,2}$/i.test(w)&&l(A,w.toLowerCase())},getCurrency:function(w){let k=u(E);return k||(k=f(w)&&d("ibu_h5_curr")||d("cookiePricesDisplayed")),(k||"").toUpperCase()},setCurrency:function(w){w&&/^[a-z]{3}$/i.test(w)&&l(E,w.toUpperCase())},getSite:function(){let w=u(S);return w||(w=d("ibu_h5_site")),(w||"").toUpperCase()},setSite:function(w){w&&/^[a-z]{2}$/i.test(w)&&l(S,w.toUpperCase())},getGroup:function(){let w=u(O);return w||(w=d("ibu_h5_group")),w||""},setGroup:function(w){w&&l(O,w)},getContextType:function(){return f()?T.H5:T.ONLINE},setContextType:function(w){w&&[T.H5,T.ONLINE].includes(w.toLowerCase())&&l(R,w.toLowerCase())}}},function(w){w.exports=JSON.parse("{}")},function(w,k){function n(k,T){return w.exports=n=Object.setPrototypeOf||function(w,k){return w.__proto__=k,w},n(k,T)}w.exports=n},function(w,k){function n(k){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?w.exports=n=function(w){return typeof w}:w.exports=n=function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},n(k)}w.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(w,k,T){var C=T(70);w.exports=function(w){if(Array.isArray(w))return C(w)}},function(w,k){w.exports=function(w){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(w))return Array.from(w)}},function(w,k,T){var C=T(70);w.exports=function(w,k){if(w){if("string"==typeof w)return C(w,k);var T=Object.prototype.toString.call(w).slice(8,-1);return"Object"===T&&w.constructor&&(T=w.constructor.name),"Map"===T||"Set"===T?Array.from(w):"Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?C(w,k):void 0}}},function(w,k){w.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(w,k){self.fetch||(self.fetch=function(w,k){return k=k||{},new Promise((function(T,C){var A=new XMLHttpRequest,E=[],S=[],O={},s=function(){return{ok:2==(A.status/100|0),statusText:A.statusText,status:A.status,url:A.responseURL,text:function(){return Promise.resolve(A.responseText)},json:function(){return Promise.resolve(A.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([A.response]))},clone:s,headers:{keys:function(){return E},entries:function(){return S},get:function(w){return O[w.toLowerCase()]},has:function(w){return w.toLowerCase()in O}}}};for(var R in A.open(k.method||"get",w,!0),A.onload=function(){A.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(w,k,T){E.push(k=k.toLowerCase()),S.push([k,T]),O[k]=O[k]?O[k]+","+T:T})),T(s())},A.onerror=C,A.withCredentials="include"==k.credentials,k.headers)A.setRequestHeader(R,k.headers[R]);A.send(k.body||null)}))})},function(w,k,T){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var C=T(71),A=function(){function e(){}return e.normalizeLocale=function(w){return w?w.replace("_","-").toLowerCase():""},e.getConfigId=function(w,k,T){var A=C.ThirdPartyConfig[w];if(!A)return"";void 0!==A.defaultVersion&&(A=(A=A)[k]||A.defaultVersion);var E=A.configId;return(E=void 0!==E.defaultLocale?(E=E)[this.normalizeLocale(T)]||E.defaultLocale:E)||""},e}();k.default=A}])},module.exports=t()},80976:function(w,k,T){"use strict";T.d(k,{Z:function(){return BaseOneTap}});var C=T(47419),A=T(70286),E=T(89205);const S={logSafariTapResult:w=>({logDesc:"safari_login",logKey:"ibu_htl_".concat((0,E.h8)(),"_safari_login"),actionType:"click",logValue:{result:w}}),logGoogleTapResult:w=>({logDesc:"google_login",logKey:"ibu_htl_".concat((0,E.h8)(),"_google_login"),actionType:"click",logValue:{result:w}})};var O=T(39621).default,R=T(67294);class BaseOneTap extends O{constructor(w){super(w),this.isShowLoginCom=()=>{if(this.isLogged)return!1;const w=(0,A.vz)().AllianceID,k=(C.default.getByKey("cargo.locale")||"").toLocaleLowerCase(),T=C.default.getByKey(this.isSafari?"showSafariTapByLocaleAid":"showGoogleTapByLocaleAid")||{};return!T[k]||T[k].includes(w)},this.getTitle=()=>"",this.sussessRegister=w=>this.isSafari&&200===(null==w?void 0:w.registerCallback)?"safarisRegister":this.isSafari||!0!==w?null:"googlesRegister",this.verifyRender=w=>{if(!w||!this.isShowLoginCom())return null;let k=this.isSafari?"logSafariTapResult":"logGoogleTapResult",T={successCallback:()=>{null==this||this.$safeLog(k,"success"),location.reload()},failCallback:w=>{null==this||this.$safeLog(k,w)},title:"",useGuide:!1};return R.createElement(w,T)},this.ubtMapping=S,this.isLogged=C.default.getByKey("isLogged")}}},30155:function(w,k,T){"use strict";T.r(k),T.d(k,{default:function(){return GoogleOneTap}});var C=T(52178),A=T(48926),E=T.n(A),S=T(87757),O=T.n(S),R=T(67294),P=T.n(R),I=T(39339),L=T(5469),x=T(87074),B=T(43770),D=T(14339),j=T(68387),F=T(75963),q=T(16406),V={appId:"330151"},G=function OnlineSubscribeCheckBox(w){var k=w.title,T=void 0===k?"":k,C=w.initAtOnce,A=void 0===C||C,E=w.meta,S=E.pageName,O=E.productLine,I=E.platform,G=E.pageId,W=w.onCheckStatusChange,K=w.customEmail,z=void 0===K?"":K,X=w.customSubParams,Y=w.customStyle,J=w.customClassName,$=void 0===J?"":J,Z=w.checkBoxDirection,Q=void 0===Z?"left":Z,ee=w.isForceUncheck,te=void 0!==ee&&ee,ne=(0,x.Q)(V),re=(0,B.N)(),ie={locale:re.locale,currency:re.currency,pageName:S,productLine:O,platform:I,source:"Online",pageId:G},oe=(0,D.fo)(),ae=oe.checkboxState,ce=oe.checkboxDispatch,se=ae.status,ue=ae.checked,le=ae.email,de=se!==j.Wb.hidden,fe=(0,F.D)(A),pe=fe.init,he=fe.rootElement,ge=(0,R.useRef)(0);(0,R.useEffect)((function(){pe&&(clearTimeout(ge.current),ge.current=window.setTimeout((function(){ce((0,D.mS)(ie,w.onInit,w.forceShow,z))}),500))}),[pe,z]);var me=se===j.Wb.soft?"onlineCheckboxSoftoptin":"onlineCheckboxNormaloptin";(0,q.Z)({subscriptionType:me,email:le,meta:ie,show:de}),(0,R.useEffect)((function(){de&&te&&ce((0,D.Lc)(!1))}),[de]),(0,R.useEffect)((function(){de&&W&&W(ue)}),[de,ue]);var ye=function clickLog(w){(0,q.O)({subscriptionType:me,email:le,meta:ie,isChecked:ue,isFinal:w})};return OnlineSubscribeCheckBox.subscribe=function(){return new Promise((function(w){ye(!0),ce((0,D.rI)({meta:ie,subscribeStatus:X,onResult:function onResult(k){w(k)}}))}))},de?P().createElement("div",{ref:he},P().createElement("div",{className:"online-subscribe-checkbox "+$+" direction-"+Q,style:{backgroundColor:null==Y?void 0:Y.backgroundColor}},P().createElement("div",{className:(0,L.ok)("check-box",{"fi-select fi":ue}),style:Y?Object.assign({},Y.iconColor?{color:Y.iconColor}:void 0,Y.iconBorderColor?{borderColor:Y.iconBorderColor}:void 0,Y.iconSize?{fontSize:Y.iconSize,width:Y.iconSize,height:Y.iconSize,lineHeight:Y.iconSize}:void 0):void 0,onClick:function onClick(){ce((0,D.Lc)(!ue)),ye(!1)}}),P().createElement("div",{className:"subscribe-txt",style:Y?Object.assign({},Y.fontColor?{color:Y.fontColor}:void 0,Y.fontSize?{fontSize:Y.fontSize}:void 0):void 0},T||(se===j.Wb.soft?ne.key_subscribe_ckeckbox_soft_title:ne.key_subscribe_ckeckbox_title)))):null};G.subscribe=function(){return Promise.resolve({isSuccess:!1})};const W=G;var K=(0,C.K)(W,{name:"@ctrip/trip-component-platform-online-subscribe-checkbox",version:"5.0.2"});K.subscribe=function(){return W.subscribe()};const z=K;var X=T(32407),Y=T(12325);const J="4.0.6";var $,Z,Q="first_authorization_login",ee={appId:"330153"},te=function(){var w=E()(O().mark((function _callee(){var w,k,T;return O().wrap((function _callee$(C){for(;;)switch(C.prev=C.next){case 0:if(!oe($)){C.next=2;break}return C.abrupt("return",$);case 2:return C.next=4,(0,Y.lR)();case 4:if(C.t0=C.sent,C.t0){C.next=7;break}C.t0={};case 7:return w=C.t0,k=w.pvid,T=w.pid,$={pvid:k,default_pageId:T,business:"TripAccount",platform:"Online",version:J},C.abrupt("return",$);case 12:case"end":return C.stop()}}),_callee)})));return function getDefaultTrack(){return w.apply(this,arguments)}}(),ne=function(){var w=E()(O().mark((function _callee2(){return O().wrap((function _callee2$(w){for(;;)switch(w.prev=w.next){case 0:if(!oe(Z)){w.next=2;break}return w.abrupt("return",Z);case 2:return Z={groupPlatform:"trip_online",scene:"oneTapLogin",source:"trip-component-platform-online-googleonetap",stage:J,code:""},w.abrupt("return",Z);case 4:case"end":return w.stop()}}),_callee2)})));return function getDefaultMetric(){return w.apply(this,arguments)}}(),re=function MetricCreator(){return function(w){E()(O().mark((function _callee3(){var k;return O().wrap((function _callee3$(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,ne();case 2:k=T.sent,(0,Y.fW)({name:"bbz_accounts_login_statistics",value:1,tag:Object.assign({},k,w)});case 4:case"end":return T.stop()}}),_callee3)})))()}},ie=function TrackCreator(w){return function(k){E()(O().mark((function _callee4(){var T;return O().wrap((function _callee4$(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,te();case 2:T=C.sent,(0,Y.v4)(w,JSON.stringify(Object.assign({},T,k)));case 4:case"end":return C.stop()}}),_callee4)})))()}},oe=function isTrue(w){return!!w&&((!Array.isArray(w)||0!==w.length)&&("object"!=typeof w||0!==Object.keys(w).length))};function IBUTrackExposure(w,k){ie("ibu_pub_login_onetap_module_exposure")({moduleName:w,title:k,version:J,moduleType:"Google",entranceType:"Google"})}function IBUTrackClick(w,k){ie("ibu_pub_login_onetap_module_click")({moduleName:w,title:k,version:J,moduleType:"Google",entranceType:"Google",sceneType:"loginBtn",type:"expand"})}function IBUTrackCallback(w,k,T,C){ie("ibu_pub_login_onetap_module_result")({moduleName:w,title:k,version:J,moduleType:"Google",entranceType:"Google",result:T,msg:C})}const ae=function Guide(w){var k=w.title,T=void 0===k?"":k,C=w.titleColor,A=w.iconUrl,E=w.isAradLocale,S=(0,R.useState)([]),O=S[0],I=S[1],L=(0,R.useState)([]),x=L[0],B=L[1];return(0,R.useEffect)((function(){if(T){for(var w=[],k="",C=!1,A=0;A<T.length;A++)C&&("}"===T[A]?(w.push(k),C=!1):k+=T[A]),"{"===T[A]&&(k="",C=!0);I(w),w.length>0?B(T.replace(/(\{|\})/g,"|+|").split("|+|")):B([T])}}),[T]),P().createElement(P().Fragment,null,P().createElement("div",{className:"gguide__block",style:{direction:E?"rtl":"ltr"}},A?P().createElement("div",{className:"gguide__icon",style:{backgroundImage:"url("+A+")",marginRight:E?"0":"8px",marginLeft:E?"8px":"0"}}):P().createElement("div",{className:"gguide__icon",style:{marginRight:E?"0":"8px",marginLeft:E?"8px":"0"}}),P().createElement("div",{className:"gguide__title",style:{color:C&&C.common?C.common:"#0f294d"}},x.map((function(w,k){return O.includes(w)?P().createElement("span",{className:"gguide__light",key:k,style:{color:C&&C.light?C.light:"#FF6F00"}},w):w})))))};var ce=T(31968);const se=function fetchRequest(w,k,T){var C="/restapi/soa2/27024/"+w,A=Object.assign({head:{extension:[]}},T,{locale:k});return(0,ce.W)({method:"POST",url:C,data:A})};const ue=function OnlineGoogleonetap(w){var k=w.title,C=w.titleColor,A=w.iconUrl,S=w.IdConfiguration,D=w.successCallback,j=w.failCallback,F=w.useGuide,q=void 0===F||F,V=w.useCheckbox,G=void 0!==V&&V,W=w.checkboxParams,K=w.sourceId,Y=w.referCode,J=w.moduleName,$=w.onUIdisplayStatusChange,Z=w.onVisibleChangeByPriority,te=w.googleSdkLoadFailCallback,ne=(0,B.N)().locale,oe=(0,R.useState)(q),ce=oe[0],ue=oe[1],le=(0,R.useRef)(),de=(0,x.Q)(ee),fe=function isAradLocale(w){return["ar-XX","ar-SA","ar-AE"].includes((0,X.formatLocale)(w,"aa-BB"))};return(0,R.useEffect)((function(){E()(O().mark((function _callee(){var w,C,A,E,R,P,x;return O().wrap((function _callee$(O){for(;;)switch(O.prev=O.next){case 0:return O.prev=0,C=(0,I.wZ)(),A=C.aid,E=C.sid,O.next=4,se("getLoginMethodsSet",ne,{aid:A,sid:E,sceneType:"googleOneTapLogin",platform:"Online"});case 4:if(null==(R=O.sent)||null==(w=R.hiddenComponent)||!w.isHide){O.next=7;break}return O.abrupt("return");case 7:O.next=11;break;case 9:O.prev=9,O.t0=O.catch(0);case 11:P=T(80207),x={moduleName:J,title:k||de.key_online_googleonetap_guide_title,successCallback:function successCallback(w){ie("ibu_plt_online_googleonetap_loginsuccess")({value:1,moduleName:J}),re()({result:"success"}),IBUTrackCallback(J,k||de.key_online_googleonetap_guide_title,"signin",""),G&&z.subscribe().then(),ue(!1),D&&D(w)},failCallback:function failCallback(w){var T=w.result,C=w.type;ie("ibu_plt_online_googleonetap_fail")({value:1,result:T,type:C,moduleName:J}),re()({result:"failed"}),IBUTrackCallback(J,k||de.key_online_googleonetap_guide_title,"failed",T);var A=document.getElementById("gg_prompt_parent_id_wrap");A&&(A.style.display="none"),ue(!1),j&&j(T)},notificationCallback:function notificationCallback(w){$&&$(w.isDisplayed());var k=document.getElementById("gg_prompt_parent_id_wrap");w.isDisplayed()?k&&setTimeout((function(){k.style.top="8px"}),500):Z&&Z(),w.isSkippedMoment()&&k&&(k.style.top="-101%")},IdConfiguration:{auto_select:S&&S.auto_select||!1,cancel_on_tap_outside:S&&S.cancel_on_tap_outside||!1,prompt_parent_id:"gg_prompt_parent_id",callback:function callback(w){S&&S.auto_select&&w&&"user"===w.select_by&&(0,L.d8)(Q,"1",365),IBUTrackClick(J,k||de.key_online_googleonetap_guide_title),S&&S.callback&&S.callback(w)}},loadsdkErrCallback:function loadsdkErrCallback(w){te&&"function"==typeof te&&te(w)},sourceId:K,referCode:Y},(new P).show(x),ie("ibu_plt_online_googleonetap_box_show")({title:k||de.key_online_googleonetap_guide_title,moduleName:J}),IBUTrackExposure(J,k||de.key_online_googleonetap_guide_title);case 16:case"end":return O.stop()}}),_callee,null,[[0,9]])})))()}),[le]),P().createElement("div",{id:"gg_prompt_parent_id_wrap"},!(0,L.ej)(Q)&&ce?P().createElement("div",{className:"gg_guidewrap"},P().createElement("div",{className:"gguide "+(fe(ne)?"gguide_isArasLocale_wrap":"")},P().createElement(ae,{title:k||de.key_online_googleonetap_guide_title,titleColor:C,iconUrl:A,isAradLocale:fe(ne)}),G&&P().createElement(z,{meta:(null==W?void 0:W.meta)||{pageName:"HOME",productLine:"COMMON",platform:"ONLINE_SITE"},customSubParams:{appPushSubscribe:{promotionDeals:"SUBSCRIBE",usefulRemind:"SUBSCRIBE",others:"SUBSCRIBE"}}}))):null,P().createElement("div",{ref:le,id:"gg_prompt_parent_id"}))};const le=(0,C.K)(ue,{name:"@ctrip/trip-component-platform-online-googleonetap",version:"4.0.6"});var de=T(80976),fe=T(98239);class GoogleOneTap extends de.Z{constructor(w){super(w),this.isSafari=!1}render(){return(0,fe.i7)()?this.verifyRender(le):null}}},77909:function(w,k,T){"use strict";T.r(k),T.d(k,{default:function(){return SafariOneTap}});var C=T(52178),A=T(48926),E=T.n(A),S=T(87757),O=T.n(S),R=T(67294),P=T.n(R),I=T(73935),L=T.n(I),x=T(5469),B=T(39339),D=T(87074),j=T(43770),F=T(14339),q=T(68387),V=T(75963),G=T(16406),W={appId:"330151"},K=function OnlineSubscribeCheckBox(w){var k=w.title,T=void 0===k?"":k,C=w.initAtOnce,A=void 0===C||C,E=w.meta,S=E.pageName,O=E.productLine,I=E.platform,L=E.pageId,B=w.onCheckStatusChange,K=w.customEmail,z=void 0===K?"":K,X=w.customSubParams,Y=w.customStyle,J=w.customClassName,$=void 0===J?"":J,Z=w.checkBoxDirection,Q=void 0===Z?"left":Z,ee=w.isForceUncheck,te=void 0!==ee&&ee,ne=(0,D.Q)(W),re=(0,j.N)(),ie={locale:re.locale,currency:re.currency,pageName:S,productLine:O,platform:I,source:"Online",pageId:L},oe=(0,F.fo)(),ae=oe.checkboxState,ce=oe.checkboxDispatch,se=ae.status,ue=ae.checked,le=ae.email,de=se!==q.Wb.hidden,fe=(0,V.D)(A),pe=fe.init,he=fe.rootElement,ge=(0,R.useRef)(0);(0,R.useEffect)((function(){pe&&(clearTimeout(ge.current),ge.current=window.setTimeout((function(){ce((0,F.mS)(ie,w.onInit,w.forceShow,z))}),500))}),[pe,z]);var me=se===q.Wb.soft?"onlineCheckboxSoftoptin":"onlineCheckboxNormaloptin";(0,G.Z)({subscriptionType:me,email:le,meta:ie,show:de}),(0,R.useEffect)((function(){de&&te&&ce((0,F.Lc)(!1))}),[de]),(0,R.useEffect)((function(){de&&B&&B(ue)}),[de,ue]);var ye=function clickLog(w){(0,G.O)({subscriptionType:me,email:le,meta:ie,isChecked:ue,isFinal:w})};return OnlineSubscribeCheckBox.subscribe=function(){return new Promise((function(w){ye(!0),ce((0,F.rI)({meta:ie,subscribeStatus:X,onResult:function onResult(k){w(k)}}))}))},de?P().createElement("div",{ref:he},P().createElement("div",{className:"online-subscribe-checkbox "+$+" direction-"+Q,style:{backgroundColor:null==Y?void 0:Y.backgroundColor}},P().createElement("div",{className:(0,x.ok)("check-box",{"fi-select fi":ue}),style:Y?Object.assign({},Y.iconColor?{color:Y.iconColor}:void 0,Y.iconBorderColor?{borderColor:Y.iconBorderColor}:void 0,Y.iconSize?{fontSize:Y.iconSize,width:Y.iconSize,height:Y.iconSize,lineHeight:Y.iconSize}:void 0):void 0,onClick:function onClick(){ce((0,F.Lc)(!ue)),ye(!1)}}),P().createElement("div",{className:"subscribe-txt",style:Y?Object.assign({},Y.fontColor?{color:Y.fontColor}:void 0,Y.fontSize?{fontSize:Y.fontSize}:void 0):void 0},T||(se===q.Wb.soft?ne.key_subscribe_ckeckbox_soft_title:ne.key_subscribe_ckeckbox_title)))):null};K.subscribe=function(){return Promise.resolve({isSuccess:!1})};const z=K;var X=(0,C.K)(z,{name:"@ctrip/trip-component-platform-online-subscribe-checkbox",version:"5.0.2"});X.subscribe=function(){return z.subscribe()};const Y=X;const J=function Message(w){var k=w.title;return P().createElement("div",{className:"online_sfguide_msg"},P().createElement("span",{className:"online_sfguide_msg__icon"}),P().createElement("div",{className:"online_sfguide_msg__title"},k))};var $=T(32407),Z=T(12325);const Q="4.0.5";var ee,te,ne="online_first_authorization_login",re="online_safari_onetap_close",ie="online_safari_onetap_login",oe={appId:"330153"},ae=function(){var w=E()(O().mark((function _callee(){var w,k,T;return O().wrap((function _callee$(C){for(;;)switch(C.prev=C.next){case 0:if(!le(ee)){C.next=2;break}return C.abrupt("return",ee);case 2:return C.next=4,(0,Z.lR)();case 4:if(C.t0=C.sent,C.t0){C.next=7;break}C.t0={};case 7:return w=C.t0,k=w.pvid,T=w.pid,ee={pvid:k,default_pageId:T,business:"TripAccount",platform:"Online",version:Q},C.abrupt("return",ee);case 12:case"end":return C.stop()}}),_callee)})));return function getDefaultTrack(){return w.apply(this,arguments)}}(),ce=function(){var w=E()(O().mark((function _callee2(){return O().wrap((function _callee2$(w){for(;;)switch(w.prev=w.next){case 0:if(!le(te)){w.next=2;break}return w.abrupt("return",te);case 2:return te={groupPlatform:"trip_online",scene:"oneTapLogin",source:"trip-component-platform-online-safarionetap",stage:Q,code:""},w.abrupt("return",te);case 4:case"end":return w.stop()}}),_callee2)})));return function getDefaultMetric(){return w.apply(this,arguments)}}(),se=function MetricCreator(){return function(w){E()(O().mark((function _callee3(){var k;return O().wrap((function _callee3$(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,ce();case 2:k=T.sent,(0,Z.fW)({name:"bbz_accounts_login_statistics",value:1,tag:Object.assign({},k,w)});case 4:case"end":return T.stop()}}),_callee3)})))()}},ue=function TrackCreator(w){return function(k){E()(O().mark((function _callee4(){var T;return O().wrap((function _callee4$(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,ae();case 2:T=C.sent,(0,Z.v4)(w,JSON.stringify(Object.assign({},T,k)));case 4:case"end":return C.stop()}}),_callee4)})))()}},le=function isTrue(w){return!!w&&((!Array.isArray(w)||0!==w.length)&&("object"!=typeof w||0!==Object.keys(w).length))};function IBUTrackClick(w,k,T,C){ue("ibu_pub_login_onetap_module_click")({moduleName:w,title:k,version:Q,moduleType:"Safari",entranceType:"Apple",sceneType:T,type:C})}function IBUTrackCallback(w,k,T,C){ue("ibu_pub_login_onetap_module_result")({moduleName:w,title:k,version:Q,moduleType:"Safari",entranceType:"Apple",result:T,msg:C})}const de=function Guide(w){var k=w.title,T=void 0===k?"":k,C=w.titleColor,A=w.iconUrl,E=(0,R.useState)([]),S=E[0],O=E[1],I=(0,R.useState)([]),L=I[0],x=I[1];return(0,R.useEffect)((function(){for(var w=[],k="",C=!1,A=0;A<T.length;A++)C&&("}"===T[A]?(w.push(k),C=!1):k+=T[A]),"{"===T[A]&&(k="",C=!0);O(w),w.length>0?x(T.replace(/(\{|\})/g,"|+|").split("|+|")):x([T])}),[T]),P().createElement("div",{className:"online_sfguide"},P().createElement("div",{className:"online_sfguide__block"},A?P().createElement("div",{className:"online_sfguide__icon",style:{backgroundImage:"url("+A+")"}}):P().createElement("div",{className:"online_sfguide__icon"}),P().createElement("div",{className:"online_sfguide__title",style:{color:C&&C.common?C.common:"#000"}},L.map((function(w,k){return S.includes(w)?P().createElement("span",{className:"online_sfguide__light",key:k,style:{color:C&&C.light?C.light:"#FF6F00"}},w):w})))))};var fe=T(31968);const pe=function fetchRequest(w,k,T){var C="/restapi/soa2/27024/"+w,A=Object.assign({head:{extension:[]}},T,{locale:k});return(0,fe.W)({method:"POST",url:C,data:A})};const he=function OnlineSafarionetap(w){var k=w.title,C=w.titleColor,A=w.iconUrl,S=w.checkboxParams,I=w.useCheckbox,F=void 0!==I&&I,q=w.successCallback,V=w.failCallback,G=w.containerDOM,W=w.sourceId,K=w.referCode,z=w.moduleName,X=w.onClose,Z=w.onUIdisplayStatusChange,ee=w.onVisibleChangeByPriority,te=(0,j.N)().locale,ae=(0,R.useRef)(),ce=(0,D.Q)(oe),le=(0,R.useState)(!1),fe=le[0],he=le[1],ge=(0,R.useState)(!1),me=ge[0],ye=ge[1],_e=(0,R.useState)(!1),ve=_e[0],be=_e[1],we=(0,R.useState)(!1),ke=we[0],Te=we[1],Ce=(0,R.useState)(!1),Ae=Ce[0],Ee=Ce[1],Se=(0,R.useState)(),Oe=Se[0],Re=Se[1],Pe=(0,R.useRef)(!0),Ie=(0,R.useCallback)((function(w){setTimeout((function(){Te(w)}),500)}),[ke,Te]),Le=function isAradLocale(w){return["ar-XX","ar-SA","ar-AE"].includes((0,$.formatLocale)(w,"aa-BB"))},xe=function sdkCallback(w){var T=w.code;if(2===T||3===T||200===T){F&&Pe.current&&(Pe.current=!1,Y.subscribe().then((function(w){}))),200===T||3===T?(0,x.d8)(ne,"1",1):(0,x.d8)(ie,"1",1),ue(2===T?"ibu_plt_online_safarisignin_box_loginsuccess":"ibu_plt_online_safarisignin_box_registersuccess")({title:k||ce.key_online_safari_onetap_title,moduleName:z}),se()({result:"success"});var C=2===T?"signin":"register";IBUTrackCallback(z,k||ce.key_online_safari_onetap_title,C,""),he(!1),setTimeout((function(){q&&q(w)}),500)}else(4===T||T<0)&&(V&&V(w),se()({result:"failed"}),IBUTrackCallback(z,k||ce.key_online_safari_onetap_title,"failed",w),ye(!0),setTimeout((function(){ye(!1)}),4e3))};(0,R.useEffect)((function(){E()(O().mark((function _callee(){var w,k,T,C,A;return O().wrap((function _callee$(E){for(;;)switch(E.prev=E.next){case 0:return E.prev=0,k=(0,B.wZ)(),T=k.aid,C=k.sid,E.next=4,pe("getLoginMethodsSet",te,{aid:T,sid:C,sceneType:"appleOneTapLogin",platform:"Online"});case 4:null!=(A=E.sent)&&null!=(w=A.hiddenComponent)&&w.isHide?be(!1):be(!0),E.next=11;break;case 8:E.prev=8,E.t0=E.catch(0),be(!0);case 11:case"end":return E.stop()}}),_callee,null,[[0,8]])})))()}),[]),(0,R.useEffect)((function(){if("undefined"!=typeof document){(0,x.d8)(ne,"0",1),(0,x.d8)(ie,"0",1),he(!0),Ee(!0);var w=T(89709).default;Re(new w(xe))}}),[ae]),(0,R.useEffect)((function(){Ae&&(fe&&!(0,x.ej)(re)?(ue("ibu_plt_online_safarisignin_box_show")({title:k||ce.key_online_safari_onetap_title,moduleName:z}),function IBUTrackExposure(w,k){ue("ibu_pub_login_onetap_module_exposure")({moduleName:w,title:k,version:Q,moduleType:"Safari",entranceType:"Apple"})}(z,k||ce.key_online_safari_onetap_title),Ie(!0),Z&&Z(!0)):(Ie(!1),Z&&Z(!1),ee&&ee()))}),[fe,Ae,ee]);var Be=ce.key_online_safari_onetap_terms&&ce.key_online_safari_onetap_terms.replace(/ibuaction/g,"a")||"";return P().createElement(P().Fragment,null,"undefined"!=typeof document&&ve?L().createPortal(P().createElement(P().Fragment,null,P().createElement("div",{id:"online_sf_prompt_parent_id",className:ke?"show":"hide"},ke?P().createElement("div",{className:"online_sf_guidewrap "+(Le(te)?"online_isArasLocale_wrap":"")},P().createElement("div",{className:"online_sfguide__closeicon fi fi-close",style:{left:Le(te)?"16px":"auto",right:Le(te)?"auto":"16px"},onClick:function onClick(){(0,x.d8)(re,"1",1),X&&X(),ee&&ee(),ue("ibu_plt_online_safarisignin_box_close")({title:k||ce.key_online_safari_onetap_title,moduleName:z}),IBUTrackClick(z,k||ce.key_online_safari_onetap_title,"close","expand"),he(!1)}}),P().createElement(de,{title:k||ce.key_online_safari_onetap_title,titleColor:C,iconUrl:A}),P().createElement("div",{className:"online_sfguide__btn",style:{direction:Le(te)?"rtl":"ltr"},onClick:function onClick(){if(ue("ibu_plt_online_safarisignin_box_click")({title:k||ce.key_online_safari_onetap_title,moduleName:z}),IBUTrackClick(z,k||ce.key_online_safari_onetap_title,"loginBtn","expand"),Oe){var w={sourceId:W,referCode:K,sourceFrom:"appletap"};Oe.authenticate("apple",w)}}},P().createElement("div",{className:"online_sfguide__btn--icon",style:{marginLeft:Le(te)?"13px":""}}),P().createElement("div",{className:"online_sfguide__btn--text"}," ",ce.key_online_safari_onetap_btntext)),Be&&P().createElement("div",{className:"online_sfguide__terms",style:{textAlign:Le(te)?"right":"left"},dangerouslySetInnerHTML:{__html:Be}}),F&&P().createElement(Y,{meta:(null==S?void 0:S.meta)||{pageName:"HOME",productLine:"COMMON",platform:"H5_SITE"},customSubParams:{appPushSubscribe:{promotionDeals:"SUBSCRIBE",usefulRemind:"SUBSCRIBE",others:"SUBSCRIBE"}}})):null,me&&P().createElement("div",{className:"online_sfguide_msgwrap"},P().createElement(J,{title:ce.key_online_safari_onetap_toast_failnfo})))),G||document.body):P().createElement("div",null))};const ge=(0,C.K)(he,{name:"@ctrip/trip-component-platform-online-safarionetap",version:"4.0.5"});var me=T(80976),ye=T(98239);class SafariOneTap extends me.Z{constructor(w){super(w),this.isSafari=!0}render(){return(0,ye.G6)()?this.verifyRender(ge):null}}},57689:function(w,k,T){"use strict";T.r(k);T(5024)},46043:function(w,k,T){"use strict";T.d(k,{T:function(){return isLighthouseStrategy}});var C=T(47419);const isLighthouseStrategy=w=>{const k=(0,C.getGDataByKey)("PageSpeedLighthouseStrategy",w),T=(0,C.getGDataByKey)("uaInfo.isLighthouse",w,!1);return!!k&&T}},56725:function(w,k,T){"use strict";T.r(k);var C=T(94184),A=T.n(C),E=T(39621).default,S=T(67294);class view_ToolTip extends E{constructor(w){super(w)}render(){const{show:w,content:k,triPosition:T,left:C,top:E,visibility:O,dark:R,zIndex:P,isFixed:I,maxWidth:L,className:x,borderRadius:B,notAllowHoverOnTip:D}=this.state,j=w?"block":"none",F=this.getTriStyle(),q=A()("m-tooltip",x,{dark:R}),V=I?"fixed":"";return S.createElement("div",{className:q,style:{display:j,left:"".concat(C,"px"),top:"".concat(E,"px"),visibility:O,zIndex:P,maxWidth:L,position:V,borderRadius:"".concat(B,"px")},ref:this.setRef&&this.setRef.bind(this),onMouseOver:D?w=>w:this.onMouseOver&&this.onMouseOver.bind(this),onMouseOut:D?w=>w:this.onMouseOut&&this.onMouseOut.bind(this)},k,S.createElement("div",{className:"m-tooltip_arrow ".concat(T),style:F}))}}var O=T(17002);O.w.push(class ToolTip extends view_ToolTip{constructor(w){super(w),this.state={show:!1,visibility:"hidden",content:"",position:"top",left:0,top:0,tipRef:null,triPosition:"bottom",triOffset:20,dark:!1,zIndex:0,maxWidth:"unset",limit:null,className:"",isFixed:!1,borderRadius:0},this.triPosMap={top:"bottom",bottom:"top",left:"right",right:"left"},this.timeoutId=null,this.delayTime=300}setRef(w){this.tipRef=w}show(w){const{target:k,content:T="",triPlacement:C="middle",position:A,dark:E=!1,zIndex:S=9999,maxWidth:O="unset",limit:R=null,className:P="",isFixed:I=!1,delayTime:L,borderRadius:x=2,notAllowHoverOnTip:B=!1}=w;k&&(this.setState({show:!0,content:T,target:k,visibility:"hidden",maxWidth:O,limit:R,className:P,borderRadius:x,notAllowHoverOnTip:B}),window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout((()=>{const w=this.calcTooltipPosition(k,A,C),{left:T,top:O,triPosition:R,triOffset:P}=w;this.setState({left:T,top:O,position:A,visibility:"visible",triPosition:R,triOffset:P,dark:E,zIndex:S,isFixed:I})}),L||this.delayTime))}hide(){this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>{this.setState({show:!1,visibility:"hidden"})}),100)}getDomBound(w){if(!w)return null;const k=w.getBoundingClientRect();return{x:k.left+(document.body.scrollLeft||document.documentElement.scrollLeft),y:k.top+(document.body.scrollTop||document.documentElement.scrollTop),width:w.offsetWidth,height:w.offsetHeight}}calcTooltipPosition(w,k,T){const C=this.getDomBound(w);if(!C)return null;const{x:A,y:E,width:S,height:O}=C,R=this.tipRef?this.tipRef.offsetHeight:0,P=this.tipRef?this.tipRef.offsetWidth:0;let I=0,L=0,x=0;const B=E-(document.body.scrollTop||document.documentElement.scrollTop),D=document.body.offsetWidth||document.documentElement.offsetWidth,j=A+S/2-P/2;if(I=j<10?10:j+P>D?D-10-P:j,this.state.limit){const{right:w,left:k,offset:T=0}=this.state.limit;if(w){const k=w.getBoundingClientRect()||{},C=k.left||0,A=k.width||0;I+P>C+A-T&&(I=C+A-T-P)}if(k){const w=(k.getBoundingClientRect()||{}).left||0;I+P<w+T&&(I=w+T-P)}}if(k||(k=B>R?"top":"bottom"),L="top"===k?E-R-18:E+O+10,"offset"===T)x=20;else{const w=S/2+A-I-12;x=P/2-10>S+A||j+P>D?w>5&&w<P-25?w:w<5?5:P-25:w>5?w:5}return{left:I,top:L,triOffset:x,position:k,triPosition:this.triPosMap[k]||"left"}}getTriStyle(){const{triOffset:w,triPosition:k}=this.state,T={};switch(k){case"top":case"bottom":T.left=w;break;case"left":case"right":T.top=w}return T}onMouseOver(){window.clearTimeout(this.timeoutId)}onMouseOut(){this.hide()}});var R=T(39621),P=T(67294);const{I18nOnlineAccountSDK:I}=window;class view_Account extends R.default{constructor(w){super(w)}render(){return I?P.createElement(I,{isShow:this.state.isShowTripPcSdk,username:this.state.username,registerType:this.state.registerType,editable:this.state.editable,scene:this.state.scene,onClickClose:this.state.onClickClose,onSignIn:this.state.onSignIn,onSignInFail:this.state.onSignInFail,onRegister:this.state.onRegister,onRegisterFail:this.state.onRegisterFail,onRequestClose:()=>{this.setState({isShowTripPcSdk:!1})},defaultCode:0}):null}}var L=T(51603);O.w.push(class Account extends view_Account{constructor(w){super(w),this.callback=w=>()=>{L.Z.unfreeze(),w&&w()},this.index=0,this.toMember=this.toMember.bind(this),this.state={isShowTripPcSdk:!1,registerType:"register"}}toMember(w){var k,T,C,A;L.Z.freeze(),this.setState({isShowTripPcSdk:!0,registerType:"toMember",username:null==w||null===(k=w.paramObj)||void 0===k?void 0:k.username,editable:null==w||null===(T=w.paramObj)||void 0===T?void 0:T.editable,scene:null==w||null===(C=w.paramObj)||void 0===C?void 0:C.scene,needMask:null==w||null===(A=w.paramObj)||void 0===A?void 0:A.needMask,onRegister:this.callback(w.successCallback),onRegisterFail:w.failcallback,onSignIn:this.callback(w.successCallback),onSignInFail:w.failcallback,onClickClose:this.callback(w.closeCallback)})}register(w){var k;L.Z.freeze(),this.setState({isShowTripPcSdk:!0,username:null==w||null===(k=w.paramObj)||void 0===k?void 0:k.username,onRegister:this.callback(w.successCallback),onRegisterFail:w.failcallback,onSignIn:this.callback(w.successCallback),onSignInFail:w.failcallback,onClickClose:this.callback(w.closeCallback)})}showLogin(w){var k;L.Z.freeze(),this.setState({isShowTripPcSdk:!0,username:null==w||null===(k=w.paramObj)||void 0===k?void 0:k.username,onRegister:this.callback(w.successCallback),onRegisterFail:w.failcallback,onSignIn:this.callback(w.successCallback),onSignInFail:w.failcallback,onClickClose:this.callback(w.closeCallback)})}bookingAsGuest(w){window&&window.I18nOnlineAccountSDK&&window.I18nOnlineAccountSDK.i18nOnlineGuestBookingSdk&&window.I18nOnlineAccountSDK.i18nOnlineGuestBookingSdk.showGuestBookingDirect&&(L.Z.freeze(),window.I18nOnlineAccountSDK.i18nOnlineGuestBookingSdk.showGuestBookingDirect({successCallback:this.callback(w.successCallback),failCallback:w.failcallback,closeCallback:this.callback(w.closeCallback),needMask:!0}))}showGuestBookingDirect(w){window&&window.I18nOnlineAccountSDK&&window.I18nOnlineAccountSDK.i18nOnlineGuestBookingSdk&&window.I18nOnlineAccountSDK.i18nOnlineGuestBookingSdk.showGuestBookingDirect&&window.I18nOnlineAccountSDK.helper?window.I18nOnlineAccountSDK.helper.isLogin().then((k=>{k?w.failcallback&&w.failcallback():window.I18nOnlineAccountSDK.helper.isGuest().then((k=>{k?w.failcallback&&w.failcallback():this.bookingAsGuest(w)}))})):w.failcallback&&w.failcallback()}});T(41040)}}]);
//# sourceMappingURL=https://sourcemap.ares.tripws.com/modules/ibu/ibu-hotel-online/es/listNewPage/async.6f2e8c7c962dda959e71.js.map